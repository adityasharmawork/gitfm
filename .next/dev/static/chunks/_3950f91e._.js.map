{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/popos/Downloads/code-synth-2025-app%20%281%29/components/loading-screen.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState, useEffect } from \"react\"\n\nconst loadingMessages = [\n  \"Accessing Mainframe...\",\n  \"Bypassing Security Protocols...\",\n  \"Downloading Commit History...\",\n  \"Analyzing 1,000s of commits...\",\n  \"Compiling Audio Vectors...\",\n  \"Generating Tarot Archetypes...\",\n  \"Rendering Code City...\",\n  \"Synthesizing Developer Essence...\",\n  \"Calibrating Neon Frequencies...\",\n  \"Initializing Visual Cortex...\",\n]\n\nexport function LoadingScreen() {\n  const [currentMessage, setCurrentMessage] = useState(0)\n  const [displayedText, setDisplayedText] = useState(\"\")\n  const [logs, setLogs] = useState<string[]>([])\n\n  useEffect(() => {\n    const message = loadingMessages[currentMessage]\n    let charIndex = 0\n\n    const typeInterval = setInterval(() => {\n      if (charIndex <= message.length) {\n        setDisplayedText(message.slice(0, charIndex))\n        charIndex++\n      } else {\n        clearInterval(typeInterval)\n        setLogs((prev) => [...prev, `[OK] ${message}`])\n\n        setTimeout(() => {\n          if (currentMessage < loadingMessages.length - 1) {\n            setCurrentMessage((prev) => prev + 1)\n            setDisplayedText(\"\")\n          }\n        }, 400)\n      }\n    }, 40)\n\n    return () => clearInterval(typeInterval)\n  }, [currentMessage])\n\n  return (\n    <div className=\"min-h-screen bg-background flex items-center justify-center p-4 relative overflow-hidden\">\n      {/* CRT Effect */}\n      <div className=\"crt-scanlines fixed inset-0 pointer-events-none z-50\" />\n\n      {/* Background Glow */}\n      <div className=\"absolute inset-0\">\n        <div className=\"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[600px] h-[600px] bg-[#ff00ff]/20 rounded-full blur-3xl animate-pulse\" />\n      </div>\n\n      <div className=\"relative z-10 w-full max-w-2xl\">\n        {/* Terminal Window */}\n        <div className=\"rounded-lg border border-[#00ff88]/50 bg-black/80 backdrop-blur-sm overflow-hidden neon-border-green\">\n          {/* Terminal Header */}\n          <div className=\"flex items-center gap-2 px-4 py-2 border-b border-[#00ff88]/30 bg-[#00ff88]/10\">\n            <div className=\"w-3 h-3 rounded-full bg-[#ff5f56]\" />\n            <div className=\"w-3 h-3 rounded-full bg-[#ffbd2e]\" />\n            <div className=\"w-3 h-3 rounded-full bg-[#27c93f]\" />\n            <span className=\"ml-2 text-xs text-[#00ff88]\">gitfm@mainframe:~$</span>\n          </div>\n\n          {/* Terminal Body */}\n          <div className=\"p-4 font-mono text-sm min-h-[300px]\">\n            {/* Previous Logs */}\n            {logs.map((log, index) => (\n              <div key={index} className=\"text-[#00ff88] mb-1\">\n                {log}\n              </div>\n            ))}\n\n            {/* Current Line */}\n            <div className=\"flex items-center text-[#00ff88]\">\n              <span className=\"text-[#ff00ff] mr-2\">{\"> \"}</span>\n              <span>{displayedText}</span>\n              <span className=\"ml-1 animate-pulse\">â–ˆ</span>\n            </div>\n          </div>\n        </div>\n\n        {/* Progress Indicator */}\n        <div className=\"mt-6\">\n          <div className=\"flex items-center justify-between text-xs text-muted-foreground mb-2\">\n            <span>Synthesizing...</span>\n            <span>{Math.round((currentMessage / loadingMessages.length) * 100)}%</span>\n          </div>\n          <div className=\"h-2 rounded-full bg-muted overflow-hidden\">\n            <div\n              className=\"h-full bg-gradient-to-r from-[#ff00ff] via-[#8800ff] to-[#00ff88] transition-all duration-500\"\n              style={{ width: `${(currentMessage / loadingMessages.length) * 100}%` }}\n            />\n          </div>\n        </div>\n\n        {/* ASCII Art */}\n        <div className=\"mt-8 text-center\">\n          {/* <pre className=\"text-[#ff00ff] text-xs leading-tight inline-block\">\n            {`\n   ______          __     _____             __  __  \n  / ____/___  ____/ /__  / ___/__  ______  / /_/ /_ \n / /   / __ \\\\/ __  / _ \\\\ \\\\__ \\\\/ / / / __ \\\\/ __/ __ \\\\\n/ /___/ /_/ / /_/ /  __/___/ / /_/ / / / / /_/ / / /\n\\\\____/\\\\____/\\\\__,_/\\\\___//____/\\\\__, /_/ /_/\\\\__/_/ /_/ \n                            /____/                  \n`}\n          </pre> */}\n<pre className=\"text-[#ff00ff] text-xs leading-tight inline-block\">\n  {`\n   ______   _ __      ________  ___ \n  / ____/(_) /_   / ____/  |/  / \n / / __ / / __/  / /_  / /|_/ /  \n/ /_/ // / /_   / __/ / /  / /   \n\\\\____//_/\\\\__/  /_/   /_/  /_/    \n`}\n</pre>\n        </div>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;;;AAFA;;AAIA,MAAM,kBAAkB;IACtB;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;CACD;AAEM,SAAS;;IACd,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,yKAAQ,EAAC;IACrD,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,yKAAQ,EAAC;IACnD,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,yKAAQ,EAAW,EAAE;IAE7C,IAAA,0KAAS;mCAAC;YACR,MAAM,UAAU,eAAe,CAAC,eAAe;YAC/C,IAAI,YAAY;YAEhB,MAAM,eAAe;wDAAY;oBAC/B,IAAI,aAAa,QAAQ,MAAM,EAAE;wBAC/B,iBAAiB,QAAQ,KAAK,CAAC,GAAG;wBAClC;oBACF,OAAO;wBACL,cAAc;wBACd;oEAAQ,CAAC,OAAS;uCAAI;oCAAM,CAAC,KAAK,EAAE,SAAS;iCAAC;;wBAE9C;oEAAW;gCACT,IAAI,iBAAiB,gBAAgB,MAAM,GAAG,GAAG;oCAC/C;gFAAkB,CAAC,OAAS,OAAO;;oCACnC,iBAAiB;gCACnB;4BACF;mEAAG;oBACL;gBACF;uDAAG;YAEH;2CAAO,IAAM,cAAc;;QAC7B;kCAAG;QAAC;KAAe;IAEnB,qBACE,6LAAC;QAAI,WAAU;;0BAEb,6LAAC;gBAAI,WAAU;;;;;;0BAGf,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;oBAAI,WAAU;;;;;;;;;;;0BAGjB,6LAAC;gBAAI,WAAU;;kCAEb,6LAAC;wBAAI,WAAU;;0CAEb,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;wCAAI,WAAU;;;;;;kDACf,6LAAC;wCAAI,WAAU;;;;;;kDACf,6LAAC;wCAAI,WAAU;;;;;;kDACf,6LAAC;wCAAK,WAAU;kDAA8B;;;;;;;;;;;;0CAIhD,6LAAC;gCAAI,WAAU;;oCAEZ,KAAK,GAAG,CAAC,CAAC,KAAK,sBACd,6LAAC;4CAAgB,WAAU;sDACxB;2CADO;;;;;kDAMZ,6LAAC;wCAAI,WAAU;;0DACb,6LAAC;gDAAK,WAAU;0DAAuB;;;;;;0DACvC,6LAAC;0DAAM;;;;;;0DACP,6LAAC;gDAAK,WAAU;0DAAqB;;;;;;;;;;;;;;;;;;;;;;;;kCAM3C,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;kDAAK;;;;;;kDACN,6LAAC;;4CAAM,KAAK,KAAK,CAAC,AAAC,iBAAiB,gBAAgB,MAAM,GAAI;4CAAK;;;;;;;;;;;;;0CAErE,6LAAC;gCAAI,WAAU;0CACb,cAAA,6LAAC;oCACC,WAAU;oCACV,OAAO;wCAAE,OAAO,GAAG,AAAC,iBAAiB,gBAAgB,MAAM,GAAI,IAAI,CAAC,CAAC;oCAAC;;;;;;;;;;;;;;;;;kCAM5E,6LAAC;wBAAI,WAAU;kCAWvB,cAAA,6LAAC;4BAAI,WAAU;sCACZ,CAAC;;;;;;AAMJ,CAAC;;;;;;;;;;;;;;;;;;;;;;;AAMD;GA3GgB;KAAA"}},
    {"offset": {"line": 288, "column": 0}, "map": {"version":3,"sources":["file:///home/popos/Downloads/code-synth-2025-app%20%281%29/components/tarot-card.tsx"],"sourcesContent":["\"use client\"\n\nimport type React from \"react\"\n\nimport { useState, useMemo } from \"react\"\nimport { Sparkles, Flame, Skull, Star, Zap, Coffee, Bug, GitBranch, Users } from \"lucide-react\"\nimport type { GitHubData } from \"@/lib/types\"\n\ninterface TarotCardProps {\n  data: GitHubData\n  vibeMode: \"hype\" | \"roast\"\n}\n\nconst classMap: Record<string, { name: string; icon: React.ReactNode; color: string }> = {\n  JavaScript: { name: \"Chaos Mage\", icon: <Zap className=\"w-8 h-8\" />, color: \"#f7df1e\" },\n  TypeScript: { name: \"Chaos Mage\", icon: <Zap className=\"w-8 h-8\" />, color: \"#3178c6\" },\n  Python: { name: \"Snake Charmer\", icon: <Star className=\"w-8 h-8\" />, color: \"#3776ab\" },\n  Rust: { name: \"The Ironclad\", icon: <Skull className=\"w-8 h-8\" />, color: \"#dea584\" },\n  \"C++\": { name: \"The Ironclad\", icon: <Skull className=\"w-8 h-8\" />, color: \"#00599c\" },\n  C: { name: \"The Ironclad\", icon: <Skull className=\"w-8 h-8\" />, color: \"#555555\" },\n  Go: { name: \"Backend Paladin\", icon: <GitBranch className=\"w-8 h-8\" />, color: \"#00add8\" },\n  Java: { name: \"Backend Paladin\", icon: <GitBranch className=\"w-8 h-8\" />, color: \"#ed8b00\" },\n  HTML: { name: \"Pixel Weaver\", icon: <Sparkles className=\"w-8 h-8\" />, color: \"#e34f26\" },\n  CSS: { name: \"Pixel Weaver\", icon: <Sparkles className=\"w-8 h-8\" />, color: \"#264de4\" },\n  default: { name: \"Code Ronin\", icon: <Star className=\"w-8 h-8\" />, color: \"#ff00ff\" },\n}\n\nexport function TarotCard({ data, vibeMode }: TarotCardProps) {\n  const [isFlipped, setIsFlipped] = useState(false)\n\n  const rpgClass = useMemo(() => {\n    const lang = data.topLanguage || \"default\"\n    return classMap[lang] || classMap[\"default\"]\n  }, [data.topLanguage])\n\n  const stats = useMemo(() => {\n    const caffeineDependency = Math.min(100, Math.round((data.totalContributions / 365) * 10))\n    const socialLife = Math.max(0, 100 - Math.round((data.totalContributions / 365) * 15))\n    const codeQuality = Math.min(100, 50 + Math.round(data.totalPRsMerged / 10))\n    const bugCreationRate =\n      vibeMode === \"roast\" ? Math.round(Math.random() * 40 + 30) : Math.round(Math.random() * 20 + 10)\n    const mainCommitter = data.totalCommits > 100\n\n    return {\n      caffeineDependency,\n      socialLife,\n      codeQuality,\n      bugCreationRate,\n      mainCommitter,\n    }\n  }, [data, vibeMode])\n\n  const getText = (type: \"title\" | \"subtitle\" | \"stat1\" | \"stat2\" | \"stat3\" | \"stat4\" | \"quote\") => {\n    if (vibeMode === \"hype\") {\n      switch (type) {\n        case \"title\":\n          return rpgClass.name\n        case \"subtitle\":\n          return \"Legendary Developer\"\n        case \"stat1\":\n          return \"Dedication\"\n        case \"stat2\":\n          return \"Work-Life Balance\"\n        case \"stat3\":\n          return \"Code Quality\"\n        case \"stat4\":\n          return \"Bug Resistance\"\n        case \"quote\":\n          return data.longestStreak > 30\n            ? `\"A ${data.longestStreak}-day streak? Your dedication is legendary. ${data.totalContributions} contributions define a true master.\"`\n            : `\"Your architecture is pure art. ${data.totalContributions} contributions define a true master.\"`\n      }\n    } else {\n      switch (type) {\n        case \"title\":\n          return rpgClass.name\n        case \"subtitle\":\n          return \"Menace to Codebases\"\n        case \"stat1\":\n          return \"Caffeine Dependency\"\n        case \"stat2\":\n          return \"Social Life\"\n        case \"stat3\":\n          return \"Delusion Level\"\n        case \"stat4\":\n          return \"Bug Creation Rate\"\n        case \"quote\":\n          if (data.currentStreak === 0) {\n            return `\"Your streak is dead. ${data.totalContributions} contributions and you couldn't keep it going?\"`\n          }\n          return stats.mainCommitter\n            ? `\"${data.totalCommits}+ commits this year. Quantity over quality, I see.\"`\n            : `\"${data.totalContributions} contributions and your code still looks like this?\"`\n      }\n    }\n  }\n\n  const isHype = vibeMode === \"hype\"\n\n  return (\n    <div className=\"perspective-1000 cursor-pointer w-80 h-[480px]\" onClick={() => setIsFlipped(!isFlipped)}>\n      <div\n        className={`relative w-full h-full transition-transform duration-700 preserve-3d ${isFlipped ? \"rotate-y-180\" : \"\"}`}\n      >\n        {/* Front of Card */}\n        <div\n          className={`absolute inset-0 backface-hidden rounded-2xl p-6 flex flex-col items-center justify-between ${\n            isHype\n              ? \"bg-gradient-to-br from-[#1a1a2e] via-[#16213e] to-[#0f3460] border-2 border-[#ffd700] neon-border-gold\"\n              : \"bg-gradient-to-br from-[#1a0a0a] via-[#2d0a0a] to-[#0a0a1a] border-2 border-[#ff0000] glitch\"\n          }`}\n        >\n          {/* Top Decoration */}\n          <div className=\"w-full flex justify-between items-start\">\n            <div className={`text-xs ${isHype ? \"text-[#ffd700]\" : \"text-[#ff0000]\"}`}>\n              {isHype ? <Sparkles className=\"w-4 h-4\" /> : <Flame className=\"w-4 h-4\" />}\n            </div>\n            <div className={`text-xs font-bold ${isHype ? \"text-[#ffd700]\" : \"text-[#ff0000]\"}`}>2025</div>\n          </div>\n\n          {/* Avatar */}\n          <div className=\"relative\">\n            <div\n              className={`absolute inset-0 rounded-full blur-xl ${isHype ? \"bg-[#ffd700]/30\" : \"bg-[#ff0000]/30\"}`}\n            />\n            <img\n              src={data.user.avatarUrl || \"/placeholder.svg\"}\n              alt={data.user.login}\n              className={`w-28 h-28 rounded-full border-4 relative z-10 ${\n                isHype ? \"border-[#ffd700]\" : \"border-[#ff0000]\"\n              }`}\n            />\n          </div>\n\n          {/* Class Icon */}\n          <div className={`${isHype ? \"text-[#ffd700]\" : \"text-[#ff0000]\"}`}>{rpgClass.icon}</div>\n\n          {/* Title */}\n          <div className=\"text-center\">\n            <h3\n              className={`text-2xl font-bold ${isHype ? \"text-[#ffd700] neon-gold\" : \"text-[#ff0000] chromatic-aberration\"}`}\n              data-text={getText(\"title\")}\n            >\n              {getText(\"title\")}\n            </h3>\n            <p className=\"text-sm text-muted-foreground mt-1\">{getText(\"subtitle\")}</p>\n          </div>\n\n          {/* Primary Language */}\n          <div\n            className=\"px-4 py-1 rounded-full text-xs font-bold\"\n            style={{ backgroundColor: `${rpgClass.color}30`, color: rpgClass.color }}\n          >\n            {data.topLanguage || \"Polyglot\"}\n          </div>\n\n          {/* Tap to flip hint */}\n          <p className=\"text-xs text-muted-foreground animate-pulse\">Tap to reveal stats</p>\n        </div>\n\n        {/* Back of Card */}\n        <div\n          className={`absolute inset-0 backface-hidden rotate-y-180 rounded-2xl p-6 flex flex-col ${\n            isHype\n              ? \"bg-gradient-to-br from-[#1a1a2e] via-[#16213e] to-[#0f3460] border-2 border-[#ffd700] neon-border-gold\"\n              : \"bg-gradient-to-br from-[#1a0a0a] via-[#2d0a0a] to-[#0a0a1a] border-2 border-[#ff0000]\"\n          }`}\n        >\n          <h4 className={`text-lg font-bold mb-4 text-center ${isHype ? \"text-[#ffd700]\" : \"text-[#ff0000]\"}`}>\n            Stats\n          </h4>\n\n          {/* Stats */}\n          <div className=\"space-y-4 flex-1\">\n            <StatBar\n              label={getText(\"stat1\")}\n              value={stats.caffeineDependency}\n              icon={<Coffee className=\"w-4 h-4\" />}\n              color={isHype ? \"#ffd700\" : \"#ff0000\"}\n            />\n            <StatBar\n              label={getText(\"stat2\")}\n              value={stats.socialLife}\n              icon={<Users className=\"w-4 h-4\" />}\n              color={isHype ? \"#ffd700\" : \"#ff0000\"}\n            />\n            <StatBar\n              label={getText(\"stat3\")}\n              value={stats.codeQuality}\n              icon={<Star className=\"w-4 h-4\" />}\n              color={isHype ? \"#ffd700\" : \"#ff0000\"}\n            />\n            <StatBar\n              label={getText(\"stat4\")}\n              value={vibeMode === \"hype\" ? 100 - stats.bugCreationRate : stats.bugCreationRate}\n              icon={<Bug className=\"w-4 h-4\" />}\n              color={isHype ? \"#ffd700\" : \"#ff0000\"}\n            />\n          </div>\n\n          {/* Quote */}\n          <div\n            className={`mt-4 p-3 rounded-lg text-xs italic text-center ${\n              isHype ? \"bg-[#ffd700]/10 text-[#ffd700]\" : \"bg-[#ff0000]/10 text-[#ff0000]\"\n            }`}\n          >\n            {getText(\"quote\")}\n          </div>\n\n          {/* Tap to flip back */}\n          <p className=\"text-xs text-muted-foreground text-center mt-4 animate-pulse\">Tap to flip back</p>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nfunction StatBar({\n  label,\n  value,\n  icon,\n  color,\n}: { label: string; value: number; icon: React.ReactNode; color: string }) {\n  return (\n    <div className=\"space-y-1\">\n      <div className=\"flex items-center justify-between text-xs\">\n        <div className=\"flex items-center gap-2\" style={{ color }}>\n          {icon}\n          <span>{label}</span>\n        </div>\n        <span style={{ color }}>{value}%</span>\n      </div>\n      <div className=\"h-2 rounded-full bg-black/50 overflow-hidden\">\n        <div\n          className=\"h-full rounded-full transition-all duration-1000\"\n          style={{\n            width: `${value}%`,\n            backgroundColor: color,\n            boxShadow: `0 0 10px ${color}`,\n          }}\n        />\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 836, "column": 0}, "map": {"version":3,"sources":["file:///home/popos/Downloads/code-synth-2025-app%20%281%29/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from 'clsx'\nimport { twMerge } from 'tailwind-merge'\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,yKAAO,EAAC,IAAA,gJAAI,EAAC;AACtB"}},
    {"offset": {"line": 854, "column": 0}, "map": {"version":3,"sources":["file:///home/popos/Downloads/code-synth-2025-app%20%281%29/components/ui/button.tsx"],"sourcesContent":["import * as React from 'react'\nimport { Slot } from '@radix-ui/react-slot'\nimport { cva, type VariantProps } from 'class-variance-authority'\n\nimport { cn } from '@/lib/utils'\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n  {\n    variants: {\n      variant: {\n        default: 'bg-primary text-primary-foreground hover:bg-primary/90',\n        destructive:\n          'bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60',\n        outline:\n          'border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50',\n        secondary:\n          'bg-secondary text-secondary-foreground hover:bg-secondary/80',\n        ghost:\n          'hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50',\n        link: 'text-primary underline-offset-4 hover:underline',\n      },\n      size: {\n        default: 'h-9 px-4 py-2 has-[>svg]:px-3',\n        sm: 'h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5',\n        lg: 'h-10 rounded-md px-6 has-[>svg]:px-4',\n        icon: 'size-9',\n        'icon-sm': 'size-8',\n        'icon-lg': 'size-10',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n      size: 'default',\n    },\n  },\n)\n\nfunction Button({\n  className,\n  variant,\n  size,\n  asChild = false,\n  ...props\n}: React.ComponentProps<'button'> &\n  VariantProps<typeof buttonVariants> & {\n    asChild?: boolean\n  }) {\n  const Comp = asChild ? Slot : 'button'\n\n  return (\n    <Comp\n      data-slot=\"button\"\n      className={cn(buttonVariants({ variant, size, className }))}\n      {...props}\n    />\n  )\n}\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,iBAAiB,IAAA,0KAAG,EACxB,+bACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OACE;YACF,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;YACN,WAAW;YACX,WAAW;QACb;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,SAAS,OAAO,EACd,SAAS,EACT,OAAO,EACP,IAAI,EACJ,UAAU,KAAK,EACf,GAAG,OAIF;IACD,MAAM,OAAO,UAAU,2KAAI,GAAG;IAE9B,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;AAGf;KAnBS"}},
    {"offset": {"line": 919, "column": 0}, "map": {"version":3,"sources":["file:///home/popos/Downloads/code-synth-2025-app%20%281%29/components/audio-symphony.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState, useRef, useEffect, useCallback } from \"react\"\nimport { Button } from \"@/components/ui/button\"\nimport { Play, Pause, RotateCcw, Volume2, VolumeX } from \"lucide-react\"\nimport type { GitHubData } from \"@/lib/types\"\nimport * as Tone from \"tone\"\n\ninterface AudioSymphonyProps {\n  data: GitHubData\n}\n\nexport function AudioSymphony({ data }: AudioSymphonyProps) {\n  const [isPlaying, setIsPlaying] = useState(false)\n  const [isMuted, setIsMuted] = useState(false)\n  const [progress, setProgress] = useState(0)\n  const [isInitialized, setIsInitialized] = useState(false)\n  const canvasRef = useRef<HTMLCanvasElement>(null)\n  const synthRef = useRef<Tone.PolySynth | null>(null)\n  const analyserRef = useRef<Tone.Analyser | null>(null)\n  const animationRef = useRef<number | null>(null)\n  const sequenceRef = useRef<Tone.Sequence | null>(null)\n\n  const initAudio = useCallback(async () => {\n    if (isInitialized) return\n\n    await Tone.start()\n\n    // Create analyzer for visualization\n    analyserRef.current = new Tone.Analyser(\"fft\", 64)\n\n    // Create synth with effects\n    const reverb = new Tone.Reverb({ decay: 2, wet: 0.3 }).toDestination()\n    const delay = new Tone.FeedbackDelay(\"8n\", 0.2).connect(reverb)\n\n    synthRef.current = new Tone.PolySynth(Tone.Synth, {\n      oscillator: { type: \"sine\" },\n      envelope: { attack: 0.02, decay: 0.1, sustain: 0.3, release: 0.5 },\n    })\n      .connect(analyserRef.current)\n      .connect(delay)\n\n    setIsInitialized(true)\n  }, [isInitialized])\n\n  const generateMelody = useCallback(() => {\n    if (!data.contributionCalendar) return []\n\n    const notes = [\"C4\", \"D4\", \"E4\", \"F4\", \"G4\", \"A4\", \"B4\", \"C5\", \"D5\", \"E5\"]\n    const melody: (string | null)[] = []\n\n    // Flatten all contribution days\n    const allDays = data.contributionCalendar.weeks.flatMap((week) => week.contributionDays)\n\n    // Sample every 7th day for a reasonable melody length\n    for (let i = 0; i < allDays.length; i += 7) {\n      const day = allDays[i]\n      if (day && day.contributionCount > 0) {\n        // Map contribution count to note index\n        const noteIndex = Math.min(day.contributionCount, notes.length - 1)\n        melody.push(notes[noteIndex])\n      } else {\n        melody.push(null) // Rest\n      }\n    }\n\n    return melody\n  }, [data.contributionCalendar])\n\n  const playMelody = useCallback(async () => {\n    await initAudio()\n\n    if (!synthRef.current) return\n\n    const melody = generateMelody()\n    if (melody.length === 0) return\n\n    // Stop any existing sequence\n    if (sequenceRef.current) {\n      sequenceRef.current.stop()\n      sequenceRef.current.dispose()\n    }\n\n    // Calculate BPM based on average contributions\n    const avgContributions = data.totalContributions / 365\n    const bpm = Math.min(180, Math.max(80, 100 + avgContributions * 2))\n    Tone.getTransport().bpm.value = bpm\n\n    let noteIndex = 0\n\n    sequenceRef.current = new Tone.Sequence(\n      (time, note) => {\n        if (note && synthRef.current) {\n          synthRef.current.triggerAttackRelease(note, \"8n\", time)\n        }\n        noteIndex++\n        setProgress((noteIndex / melody.length) * 100)\n\n        if (noteIndex >= melody.length) {\n          setTimeout(() => {\n            setIsPlaying(false)\n            setProgress(0)\n            Tone.getTransport().stop()\n          }, 500)\n        }\n      },\n      melody,\n      \"8n\",\n    )\n\n    sequenceRef.current.start(0)\n    Tone.getTransport().start()\n    setIsPlaying(true)\n  }, [initAudio, generateMelody, data.totalContributions])\n\n  const stopMelody = useCallback(() => {\n    if (sequenceRef.current) {\n      sequenceRef.current.stop()\n    }\n    Tone.getTransport().stop()\n    setIsPlaying(false)\n    setProgress(0)\n  }, [])\n\n  const toggleMute = useCallback(() => {\n    if (synthRef.current) {\n      synthRef.current.volume.value = isMuted ? 0 : -100\n    }\n    setIsMuted(!isMuted)\n  }, [isMuted])\n\n  // Visualization\n  useEffect(() => {\n    const canvas = canvasRef.current\n    if (!canvas) return\n\n    const ctx = canvas.getContext(\"2d\")\n    if (!ctx) return\n\n    const draw = () => {\n      const width = canvas.width\n      const height = canvas.height\n\n      ctx.fillStyle = \"rgba(0, 0, 0, 0.2)\"\n      ctx.fillRect(0, 0, width, height)\n\n      if (analyserRef.current && isPlaying) {\n        const values = analyserRef.current.getValue() as Float32Array\n        const barWidth = width / values.length\n\n        values.forEach((value, i) => {\n          const normalizedValue = (value + 140) / 140 // Normalize dB values\n          const barHeight = normalizedValue * height * 0.8\n\n          // Create gradient colors\n          const hue = (i / values.length) * 60 + 280 // Purple to pink\n          ctx.fillStyle = `hsla(${hue}, 100%, 60%, 0.8)`\n\n          const x = i * barWidth\n          const y = height - barHeight\n\n          ctx.fillRect(x, y, barWidth - 2, barHeight)\n\n          // Add glow effect\n          ctx.shadowColor = `hsla(${hue}, 100%, 60%, 1)`\n          ctx.shadowBlur = 10\n        })\n      } else {\n        // Idle animation\n        const time = Date.now() / 1000\n        for (let i = 0; i < 32; i++) {\n          const barHeight = (Math.sin(time * 2 + i * 0.3) + 1) * 20 + 10\n          const hue = (i / 32) * 60 + 280\n          ctx.fillStyle = `hsla(${hue}, 100%, 60%, 0.3)`\n          ctx.fillRect(i * (width / 32), height - barHeight, width / 32 - 2, barHeight)\n        }\n      }\n\n      ctx.shadowBlur = 0\n      animationRef.current = requestAnimationFrame(draw)\n    }\n\n    draw()\n\n    return () => {\n      if (animationRef.current) {\n        cancelAnimationFrame(animationRef.current)\n      }\n    }\n  }, [isPlaying])\n\n  // Cleanup on unmount\n  useEffect(() => {\n    return () => {\n      if (sequenceRef.current) {\n        sequenceRef.current.dispose()\n      }\n      if (synthRef.current) {\n        synthRef.current.dispose()\n      }\n      if (analyserRef.current) {\n        analyserRef.current.dispose()\n      }\n      Tone.getTransport().stop()\n    }\n  }, [])\n\n  return (\n    <div className=\"w-full max-w-2xl mx-auto\">\n      <div className=\"rounded-lg border border-[#00ffff]/30 bg-card/50 backdrop-blur-sm overflow-hidden neon-border-purple\">\n        {/* Visualizer */}\n        <div className=\"relative h-48 bg-black\">\n          <canvas ref={canvasRef} width={600} height={192} className=\"w-full h-full\" />\n          <div className=\"absolute inset-0 pointer-events-none bg-gradient-to-t from-black/50 to-transparent\" />\n        </div>\n\n        {/* Controls */}\n        <div className=\"p-4 space-y-4\">\n          <div className=\"text-center\">\n            <p className=\"text-sm text-[#00ffff]\">Now Playing: Your 2025 Commit History</p>\n            <p className=\"text-xs text-muted-foreground mt-1\">\n              {data.totalContributions} contributions transformed into sound\n            </p>\n          </div>\n\n          {/* Progress Bar */}\n          <div className=\"h-1 rounded-full bg-muted overflow-hidden\">\n            <div\n              className=\"h-full bg-gradient-to-r from-[#ff00ff] to-[#00ffff] transition-all duration-200\"\n              style={{ width: `${progress}%` }}\n            />\n          </div>\n\n          {/* Buttons */}\n          <div className=\"flex items-center justify-center gap-4\">\n            <Button\n              variant=\"outline\"\n              size=\"icon\"\n              onClick={stopMelody}\n              disabled={!isPlaying}\n              className=\"border-[#00ffff]/50 hover:bg-[#00ffff]/10 disabled:opacity-30 bg-transparent\"\n            >\n              <RotateCcw className=\"w-4 h-4\" />\n            </Button>\n\n            <Button\n              size=\"lg\"\n              onClick={isPlaying ? stopMelody : playMelody}\n              className=\"w-16 h-16 rounded-full bg-gradient-to-r from-[#ff00ff] to-[#00ffff] hover:from-[#ff33ff] hover:to-[#33ffff] text-white\"\n            >\n              {isPlaying ? <Pause className=\"w-6 h-6\" /> : <Play className=\"w-6 h-6 ml-1\" />}\n            </Button>\n\n            <Button\n              variant=\"outline\"\n              size=\"icon\"\n              onClick={toggleMute}\n              className=\"border-[#00ffff]/50 hover:bg-[#00ffff]/10 bg-transparent\"\n            >\n              {isMuted ? <VolumeX className=\"w-4 h-4\" /> : <Volume2 className=\"w-4 h-4\" />}\n            </Button>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1342, "column": 0}, "map": {"version":3,"sources":["file:///home/popos/Downloads/code-synth-2025-app%20%281%29/components/code-city.tsx"],"sourcesContent":["\"use client\"\n\nimport { useRef, useMemo } from \"react\"\nimport { Canvas, useFrame } from \"@react-three/fiber\"\nimport { OrbitControls, Text, Grid } from \"@react-three/drei\"\nimport type { GitHubData, Repository } from \"@/lib/types\"\nimport type * as THREE from \"three\"\n\ninterface CodeCityProps {\n  data: GitHubData\n}\n\nfunction Building({\n  repo,\n  position,\n  index,\n  maxScore,\n}: { repo: Repository; position: [number, number, number]; index: number; maxScore: number }) {\n  const meshRef = useRef<THREE.Mesh>(null)\n\n  // Calculate a score based on multiple factors\n  const repoScore = repo.stars * 3 + repo.commits * 2 + repo.prs * 5 + repo.forks * 2\n  // Normalize height between 2 and 15 based on max score in the dataset\n  const normalizedHeight = maxScore > 0 ? 2 + (repoScore / maxScore) * 13 : 2 + (index % 5) * 2.5 // Fallback: vary height by index if no data\n\n  const height = Math.max(2, Math.min(15, normalizedHeight))\n  const brightness = Math.min(1, repo.prs / 10)\n\n  // Color based on language or position for variety\n  const languageColors: Record<string, string> = {\n    JavaScript: \"#f1e05a\",\n    TypeScript: \"#3178c6\",\n    Python: \"#3572A5\",\n    Java: \"#b07219\",\n    Go: \"#00ADD8\",\n    Rust: \"#dea584\",\n    Ruby: \"#ff00ff\",\n    PHP: \"#4F5D95\",\n    \"C++\": \"#f34b7d\",\n    C: \"#00ffff\",\n    \"C#\": \"#00ff88\",\n    Swift: \"#F05138\",\n    Kotlin: \"#A97BFF\",\n  }\n  const defaultColors = [\"#ff00ff\", \"#00ffff\", \"#00ff88\", \"#8800ff\", \"#ff8800\"]\n  const color =\n    repo.language && languageColors[repo.language]\n      ? languageColors[repo.language]\n      : defaultColors[index % defaultColors.length]\n\n  useFrame((state) => {\n    if (meshRef.current) {\n      meshRef.current.position.y = height / 2 + Math.sin(state.clock.elapsedTime + index) * 0.1\n    }\n  })\n\n  return (\n    <group position={position}>\n      {/* Main building */}\n      <mesh ref={meshRef} position={[0, height / 2, 0]}>\n        <boxGeometry args={[1.5, height, 1.5]} />\n        <meshStandardMaterial\n          color={color}\n          emissive={color}\n          emissiveIntensity={0.3 + brightness * 0.5}\n          metalness={0.8}\n          roughness={0.2}\n        />\n      </mesh>\n\n      {/* Windows (glowing dots) */}\n      {Array.from({ length: Math.floor(height / 2) }).map((_, i) => (\n        <mesh key={i} position={[0.8, i * 2 + 1, 0]}>\n          <boxGeometry args={[0.1, 0.3, 0.3]} />\n          <meshStandardMaterial color=\"#ffffff\" emissive=\"#ffffff\" emissiveIntensity={brightness + 0.3} />\n        </mesh>\n      ))}\n\n      {/* Repo name label */}\n      <Text position={[0, height + 0.5, 0]} fontSize={0.3} color={color} anchorX=\"center\" anchorY=\"middle\">\n        {repo.name.slice(0, 10)}\n      </Text>\n    </group>\n  )\n}\n\nfunction CityScene({ repositories }: { repositories: Repository[] }) {\n  const gridRef = useRef<THREE.Group>(null)\n\n  const maxScore = useMemo(() => {\n    return Math.max(\n      1,\n      ...repositories.map((repo) => repo.stars * 3 + repo.commits * 2 + repo.prs * 5 + (repo.forks || 0) * 2),\n    )\n  }, [repositories])\n\n  // Generate city layout\n  const buildings = useMemo(() => {\n    const positions: [number, number, number][] = []\n    const gridSize = Math.ceil(Math.sqrt(repositories.length))\n    const spacing = 4\n\n    repositories.forEach((_, index) => {\n      const x = (index % gridSize) * spacing - (gridSize * spacing) / 2\n      const z = Math.floor(index / gridSize) * spacing - (gridSize * spacing) / 2\n      positions.push([x, 0, z])\n    })\n\n    return positions\n  }, [repositories])\n\n  useFrame((state) => {\n    if (gridRef.current) {\n      gridRef.current.rotation.y = state.clock.elapsedTime * 0.05\n    }\n  })\n\n  return (\n    <>\n      {/* Lighting */}\n      <ambientLight intensity={0.2} />\n      <pointLight position={[10, 20, 10]} intensity={1} color=\"#ff00ff\" />\n      <pointLight position={[-10, 20, -10]} intensity={1} color=\"#00ffff\" />\n      <spotLight position={[0, 30, 0]} angle={0.5} penumbra={1} intensity={0.5} color=\"#8800ff\" />\n\n      {/* Tron-style grid floor */}\n      <Grid\n        position={[0, -0.01, 0]}\n        args={[50, 50]}\n        cellSize={2}\n        cellThickness={0.5}\n        cellColor=\"#ff00ff\"\n        sectionSize={10}\n        sectionThickness={1}\n        sectionColor=\"#8800ff\"\n        fadeDistance={50}\n        fadeStrength={1}\n        followCamera={false}\n      />\n\n      {/* Buildings */}\n      <group ref={gridRef}>\n        {repositories.map((repo, index) => (\n          <Building key={repo.name} repo={repo} position={buildings[index]} index={index} maxScore={maxScore} />\n        ))}\n      </group>\n\n      {/* Fog for atmosphere */}\n      <fog attach=\"fog\" args={[\"#0a0a1a\", 20, 60]} />\n    </>\n  )\n}\n\nexport function CodeCity({ data }: CodeCityProps) {\n  return (\n    <div className=\"w-full max-w-4xl mx-auto\">\n      <div className=\"rounded-lg border border-[#00ff88]/30 bg-card/50 backdrop-blur-sm overflow-hidden neon-border-green\">\n        <div className=\"h-[400px] md:h-[500px] bg-[#0a0a1a]\">\n          <Canvas camera={{ position: [20, 15, 20], fov: 60 }} gl={{ antialias: true }}>\n            <CityScene repositories={data.repositories} />\n            <OrbitControls\n              enablePan={true}\n              enableZoom={true}\n              enableRotate={true}\n              autoRotate={true}\n              autoRotateSpeed={0.5}\n              maxPolarAngle={Math.PI / 2.2}\n              minDistance={10}\n              maxDistance={50}\n            />\n          </Canvas>\n        </div>\n\n        {/* Legend */}\n        <div className=\"p-4 border-t border-[#00ff88]/30\">\n          <div className=\"flex flex-wrap items-center justify-center gap-6 text-xs text-muted-foreground\">\n            <div className=\"flex items-center gap-2\">\n              <div className=\"w-3 h-6 bg-gradient-to-t from-[#ff00ff]/50 to-[#ff00ff]\" />\n              <span>Height = Stars + Commits + PRs</span>\n            </div>\n            <div className=\"flex items-center gap-2\">\n              <div className=\"w-3 h-3 bg-white rounded-full shadow-[0_0_10px_#fff]\" />\n              <span>Windows = Activity</span>\n            </div>\n            <div className=\"flex items-center gap-2\">\n              <span className=\"text-[#00ff88]\">Drag to explore</span>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AACA;AAAA;AAAA;;;AAJA;;;;AAYA,SAAS,SAAS,EAChB,IAAI,EACJ,QAAQ,EACR,KAAK,EACL,QAAQ,EACkF;;IAC1F,MAAM,UAAU,IAAA,uKAAM,EAAa;IAEnC,8CAA8C;IAC9C,MAAM,YAAY,KAAK,KAAK,GAAG,IAAI,KAAK,OAAO,GAAG,IAAI,KAAK,GAAG,GAAG,IAAI,KAAK,KAAK,GAAG;IAClF,sEAAsE;IACtE,MAAM,mBAAmB,WAAW,IAAI,IAAI,AAAC,YAAY,WAAY,KAAK,IAAI,AAAC,QAAQ,IAAK,IAAI,4CAA4C;;IAE5I,MAAM,SAAS,KAAK,GAAG,CAAC,GAAG,KAAK,GAAG,CAAC,IAAI;IACxC,MAAM,aAAa,KAAK,GAAG,CAAC,GAAG,KAAK,GAAG,GAAG;IAE1C,kDAAkD;IAClD,MAAM,iBAAyC;QAC7C,YAAY;QACZ,YAAY;QACZ,QAAQ;QACR,MAAM;QACN,IAAI;QACJ,MAAM;QACN,MAAM;QACN,KAAK;QACL,OAAO;QACP,GAAG;QACH,MAAM;QACN,OAAO;QACP,QAAQ;IACV;IACA,MAAM,gBAAgB;QAAC;QAAW;QAAW;QAAW;QAAW;KAAU;IAC7E,MAAM,QACJ,KAAK,QAAQ,IAAI,cAAc,CAAC,KAAK,QAAQ,CAAC,GAC1C,cAAc,CAAC,KAAK,QAAQ,CAAC,GAC7B,aAAa,CAAC,QAAQ,cAAc,MAAM,CAAC;IAEjD,IAAA,8NAAQ;6BAAC,CAAC;YACR,IAAI,QAAQ,OAAO,EAAE;gBACnB,QAAQ,OAAO,CAAC,QAAQ,CAAC,CAAC,GAAG,SAAS,IAAI,KAAK,GAAG,CAAC,MAAM,KAAK,CAAC,WAAW,GAAG,SAAS;YACxF;QACF;;IAEA,qBACE,6LAAC;QAAM,UAAU;;0BAEf,6LAAC;gBAAK,KAAK;gBAAS,UAAU;oBAAC;oBAAG,SAAS;oBAAG;iBAAE;;kCAC9C,6LAAC;wBAAY,MAAM;4BAAC;4BAAK;4BAAQ;yBAAI;;;;;;kCACrC,6LAAC;wBACC,OAAO;wBACP,UAAU;wBACV,mBAAmB,MAAM,aAAa;wBACtC,WAAW;wBACX,WAAW;;;;;;;;;;;;YAKd,MAAM,IAAI,CAAC;gBAAE,QAAQ,KAAK,KAAK,CAAC,SAAS;YAAG,GAAG,GAAG,CAAC,CAAC,GAAG,kBACtD,6LAAC;oBAAa,UAAU;wBAAC;wBAAK,IAAI,IAAI;wBAAG;qBAAE;;sCACzC,6LAAC;4BAAY,MAAM;gCAAC;gCAAK;gCAAK;6BAAI;;;;;;sCAClC,6LAAC;4BAAqB,OAAM;4BAAU,UAAS;4BAAU,mBAAmB,aAAa;;;;;;;mBAFhF;;;;;0BAOb,6LAAC,mKAAI;gBAAC,UAAU;oBAAC;oBAAG,SAAS;oBAAK;iBAAE;gBAAE,UAAU;gBAAK,OAAO;gBAAO,SAAQ;gBAAS,SAAQ;0BACzF,KAAK,IAAI,CAAC,KAAK,CAAC,GAAG;;;;;;;;;;;;AAI5B;GAxES;;QAsCP,8NAAQ;;;KAtCD;AA0ET,SAAS,UAAU,EAAE,YAAY,EAAkC;;IACjE,MAAM,UAAU,IAAA,uKAAM,EAAc;IAEpC,MAAM,WAAW,IAAA,wKAAO;uCAAC;YACvB,OAAO,KAAK,GAAG,CACb,MACG,aAAa,GAAG;+CAAC,CAAC,OAAS,KAAK,KAAK,GAAG,IAAI,KAAK,OAAO,GAAG,IAAI,KAAK,GAAG,GAAG,IAAI,CAAC,KAAK,KAAK,IAAI,CAAC,IAAI;;QAEzG;sCAAG;QAAC;KAAa;IAEjB,uBAAuB;IACvB,MAAM,YAAY,IAAA,wKAAO;wCAAC;YACxB,MAAM,YAAwC,EAAE;YAChD,MAAM,WAAW,KAAK,IAAI,CAAC,KAAK,IAAI,CAAC,aAAa,MAAM;YACxD,MAAM,UAAU;YAEhB,aAAa,OAAO;gDAAC,CAAC,GAAG;oBACvB,MAAM,IAAI,AAAC,QAAQ,WAAY,UAAU,AAAC,WAAW,UAAW;oBAChE,MAAM,IAAI,KAAK,KAAK,CAAC,QAAQ,YAAY,UAAU,AAAC,WAAW,UAAW;oBAC1E,UAAU,IAAI,CAAC;wBAAC;wBAAG;wBAAG;qBAAE;gBAC1B;;YAEA,OAAO;QACT;uCAAG;QAAC;KAAa;IAEjB,IAAA,8NAAQ;8BAAC,CAAC;YACR,IAAI,QAAQ,OAAO,EAAE;gBACnB,QAAQ,OAAO,CAAC,QAAQ,CAAC,CAAC,GAAG,MAAM,KAAK,CAAC,WAAW,GAAG;YACzD;QACF;;IAEA,qBACE;;0BAEE,6LAAC;gBAAa,WAAW;;;;;;0BACzB,6LAAC;gBAAW,UAAU;oBAAC;oBAAI;oBAAI;iBAAG;gBAAE,WAAW;gBAAG,OAAM;;;;;;0BACxD,6LAAC;gBAAW,UAAU;oBAAC,CAAC;oBAAI;oBAAI,CAAC;iBAAG;gBAAE,WAAW;gBAAG,OAAM;;;;;;0BAC1D,6LAAC;gBAAU,UAAU;oBAAC;oBAAG;oBAAI;iBAAE;gBAAE,OAAO;gBAAK,UAAU;gBAAG,WAAW;gBAAK,OAAM;;;;;;0BAGhF,6LAAC,mKAAI;gBACH,UAAU;oBAAC;oBAAG,CAAC;oBAAM;iBAAE;gBACvB,MAAM;oBAAC;oBAAI;iBAAG;gBACd,UAAU;gBACV,eAAe;gBACf,WAAU;gBACV,aAAa;gBACb,kBAAkB;gBAClB,cAAa;gBACb,cAAc;gBACd,cAAc;gBACd,cAAc;;;;;;0BAIhB,6LAAC;gBAAM,KAAK;0BACT,aAAa,GAAG,CAAC,CAAC,MAAM,sBACvB,6LAAC;wBAAyB,MAAM;wBAAM,UAAU,SAAS,CAAC,MAAM;wBAAE,OAAO;wBAAO,UAAU;uBAA3E,KAAK,IAAI;;;;;;;;;;0BAK5B,6LAAC;gBAAI,QAAO;gBAAM,MAAM;oBAAC;oBAAW;oBAAI;iBAAG;;;;;;;;AAGjD;IAjES;;QAyBP,8NAAQ;;;MAzBD;AAmEF,SAAS,SAAS,EAAE,IAAI,EAAiB;IAC9C,qBACE,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC;YAAI,WAAU;;8BACb,6LAAC;oBAAI,WAAU;8BACb,cAAA,6LAAC,gNAAM;wBAAC,QAAQ;4BAAE,UAAU;gCAAC;gCAAI;gCAAI;6BAAG;4BAAE,KAAK;wBAAG;wBAAG,IAAI;4BAAE,WAAW;wBAAK;;0CACzE,6LAAC;gCAAU,cAAc,KAAK,YAAY;;;;;;0CAC1C,6LAAC,qLAAa;gCACZ,WAAW;gCACX,YAAY;gCACZ,cAAc;gCACd,YAAY;gCACZ,iBAAiB;gCACjB,eAAe,KAAK,EAAE,GAAG;gCACzB,aAAa;gCACb,aAAa;;;;;;;;;;;;;;;;;8BAMnB,6LAAC;oBAAI,WAAU;8BACb,cAAA,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;wCAAI,WAAU;;;;;;kDACf,6LAAC;kDAAK;;;;;;;;;;;;0CAER,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;wCAAI,WAAU;;;;;;kDACf,6LAAC;kDAAK;;;;;;;;;;;;0CAER,6LAAC;gCAAI,WAAU;0CACb,cAAA,6LAAC;oCAAK,WAAU;8CAAiB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAO/C;MAvCgB"}},
    {"offset": {"line": 1810, "column": 0}, "map": {"version":3,"sources":["file:///home/popos/Downloads/code-synth-2025-app%20%281%29/components/video-generator.tsx"],"sourcesContent":["\"use client\"\n\nimport { useRef, useState, useEffect, useCallback } from \"react\"\nimport { Button } from \"@/components/ui/button\"\nimport { X, Download, Play, Loader2 } from \"lucide-react\"\nimport type { GitHubData } from \"@/lib/types\"\n\ninterface VideoGeneratorProps {\n    data: GitHubData\n    vibeMode: \"hype\" | \"roast\"\n    onClose: () => void\n}\n\ninterface Star {\n    x: number\n    y: number\n    size: number\n    speed: number\n    opacity: number\n}\n\ninterface Particle {\n    x: number\n    y: number\n    vx: number\n    vy: number\n    life: number\n    maxLife: number\n    color: string\n    size: number\n}\n\nexport function VideoGenerator({ data, vibeMode, onClose }: VideoGeneratorProps) {\n    const canvasRef = useRef<HTMLCanvasElement>(null)\n    const [isGenerating, setIsGenerating] = useState(false)\n    const [isPlaying, setIsPlaying] = useState(false)\n    const [videoUrl, setVideoUrl] = useState<string | null>(null)\n    const [progress, setProgress] = useState(0)\n    const animationRef = useRef<number | null>(null)\n    const mediaRecorderRef = useRef<MediaRecorder | null>(null)\n    const chunksRef = useRef<Blob[]>([])\n\n    const WIDTH = 1080\n    const HEIGHT = 1920\n    const FPS = 30\n    const DURATION = 15 // seconds\n\n    const starsRef = useRef<Star[]>([])\n    const particlesRef = useRef<Particle[]>([])\n\n    // Initialize stars\n    useEffect(() => {\n        starsRef.current = Array.from({ length: 200 }, () => ({\n            x: Math.random() * WIDTH,\n            y: Math.random() * HEIGHT,\n            size: Math.random() * 2 + 0.5,\n            speed: Math.random() * 2 + 0.5,\n            opacity: Math.random() * 0.8 + 0.2,\n        }))\n    }, [])\n\n    const addParticles = useCallback((x: number, y: number, count: number, color: string) => {\n        for (let i = 0; i < count; i++) {\n            particlesRef.current.push({\n                x,\n                y,\n                vx: (Math.random() - 0.5) * 10,\n                vy: (Math.random() - 0.5) * 10,\n                life: 1,\n                maxLife: 1,\n                color,\n                size: Math.random() * 4 + 2,\n            })\n        }\n    }, [])\n\n    const drawFrame = useCallback((ctx: CanvasRenderingContext2D, frame: number) => {\n        const totalFrames = DURATION * FPS\n        const progress = frame / totalFrames\n        const scene = Math.floor(progress * 6) // 6 scenes\n\n        // Clear and draw space background\n        const gradient = ctx.createLinearGradient(0, 0, 0, HEIGHT)\n        gradient.addColorStop(0, \"#0a0a0a\")\n        gradient.addColorStop(0.5, \"#1a0a2e\")\n        gradient.addColorStop(1, \"#0a0a0a\")\n        ctx.fillStyle = gradient\n        ctx.fillRect(0, 0, WIDTH, HEIGHT)\n\n        // Update and draw stars\n        starsRef.current.forEach((star) => {\n            star.y += star.speed\n            if (star.y > HEIGHT) {\n                star.y = 0\n                star.x = Math.random() * WIDTH\n            }\n            ctx.beginPath()\n            ctx.arc(star.x, star.y, star.size, 0, Math.PI * 2)\n            ctx.fillStyle = `rgba(255, 255, 255, ${star.opacity})`\n            ctx.fill()\n        })\n\n        // Update and draw particles\n        particlesRef.current = particlesRef.current.filter((p) => p.life > 0)\n        particlesRef.current.forEach((p) => {\n            p.x += p.vx\n            p.y += p.vy\n            p.life -= 0.02\n            const radius = Math.max(0, p.size * p.life)\n            if (radius > 0) {\n                ctx.beginPath()\n                ctx.arc(p.x, p.y, radius, 0, Math.PI * 2)\n                ctx.fillStyle = p.color.replace(\"1)\", `${Math.max(0, p.life)})`)\n                ctx.fill()\n            }\n        })\n\n        // Scene-specific content\n        ctx.textAlign = \"center\"\n        ctx.textBaseline = \"middle\"\n\n        const sceneProgress = (progress * 6) % 1\n\n        if (scene === 0) {\n            // Scene 1: Launch - Logo fade in\n            const alpha = Math.min(sceneProgress * 2, 1)\n            ctx.globalAlpha = alpha\n\n            // GitFM Logo\n            ctx.font = \"bold 120px 'Segoe UI', sans-serif\"\n            const logoGradient = ctx.createLinearGradient(WIDTH / 2 - 200, HEIGHT / 2, WIDTH / 2 + 200, HEIGHT / 2)\n            logoGradient.addColorStop(0, \"#ff00ff\")\n            logoGradient.addColorStop(1, \"#00ffff\")\n            ctx.fillStyle = logoGradient\n            ctx.fillText(\"GitFM\", WIDTH / 2, HEIGHT / 2 - 100)\n\n            ctx.font = \"48px 'Segoe UI', sans-serif\"\n            ctx.fillStyle = \"#ffd700\"\n            ctx.fillText(\"2025\", WIDTH / 2, HEIGHT / 2)\n\n            ctx.font = \"36px 'Segoe UI', sans-serif\"\n            ctx.fillStyle = \"#ffffff\"\n            ctx.fillText(`Mission Report: @${data.user.login}`, WIDTH / 2, HEIGHT / 2 + 100)\n\n            ctx.globalAlpha = 1\n\n            if (sceneProgress > 0.7) {\n                addParticles(WIDTH / 2, HEIGHT / 2, 5, \"rgba(255, 0, 255, 1)\")\n            }\n        } else if (scene === 1) {\n            // Scene 2: Commits - Rocket launch\n            const rocketY = HEIGHT - (sceneProgress * HEIGHT * 0.6)\n\n            // Draw rocket\n            ctx.font = \"100px 'Segoe UI', sans-serif\"\n            ctx.fillText(\"ðŸš€\", WIDTH / 2, rocketY)\n\n            // Exhaust particles\n            if (frame % 2 === 0) {\n                addParticles(WIDTH / 2, rocketY + 80, 3, \"rgba(255, 136, 0, 1)\")\n            }\n\n            // Stats\n            ctx.font = \"bold 72px 'Segoe UI', sans-serif\"\n            ctx.fillStyle = \"#00ff88\"\n            const displayCommits = Math.floor(data.totalCommits * sceneProgress)\n            ctx.fillText(`${displayCommits.toLocaleString()}`, WIDTH / 2, HEIGHT / 2 - 50)\n\n            ctx.font = \"36px 'Segoe UI', sans-serif\"\n            ctx.fillStyle = \"#ffffff\"\n            ctx.fillText(\"COMMITS\", WIDTH / 2, HEIGHT / 2 + 20)\n\n            ctx.font = \"28px 'Segoe UI', sans-serif\"\n            ctx.fillStyle = \"#888888\"\n            ctx.fillText(\"Altitude Reached\", WIDTH / 2, HEIGHT / 2 + 70)\n        } else if (scene === 2) {\n            // Scene 3: PRs, Issues, Stars - Orbiting\n            const centerX = WIDTH / 2\n            const centerY = HEIGHT / 2\n            const orbitRadius = 250\n\n            // Draw satellite\n            ctx.font = \"80px 'Segoe UI', sans-serif\"\n            ctx.fillText(\"ðŸ›°ï¸\", centerX, centerY)\n\n            // Orbiting stats\n            const stats = [\n                { emoji: \"â­\", value: data.totalStarsEarned, label: \"Stars\", color: \"#ffd700\" },\n                { emoji: \"ðŸ”€\", value: data.totalPRsMerged, label: \"PRs\", color: \"#ff00ff\" },\n                { emoji: \"ðŸ›\", value: data.totalIssuesOpened, label: \"Issues\", color: \"#00ffff\" },\n            ]\n\n            stats.forEach((stat, i) => {\n                const angle = (sceneProgress * Math.PI * 4) + (i * (Math.PI * 2) / 3)\n                const x = centerX + Math.cos(angle) * orbitRadius\n                const y = centerY + Math.sin(angle) * orbitRadius * 0.5\n\n                ctx.font = \"50px 'Segoe UI', sans-serif\"\n                ctx.fillText(stat.emoji, x, y - 30)\n\n                ctx.font = \"bold 42px 'Segoe UI', sans-serif\"\n                ctx.fillStyle = stat.color\n                ctx.fillText(stat.value.toLocaleString(), x, y + 30)\n\n                ctx.font = \"24px 'Segoe UI', sans-serif\"\n                ctx.fillStyle = \"#ffffff\"\n                ctx.fillText(stat.label, x, y + 70)\n            })\n        } else if (scene === 3) {\n            // Scene 4: Languages as constellations\n            ctx.font = \"bold 48px 'Segoe UI', sans-serif\"\n            ctx.fillStyle = \"#00ffff\"\n            ctx.fillText(\"TOP LANGUAGES\", WIDTH / 2, 300)\n\n            const topLangs = data.languages.slice(0, 5)\n            const totalSize = topLangs.reduce((sum, l) => sum + l.size, 0)\n            topLangs.forEach((lang, i) => {\n                const y = 450 + i * 120\n                const percentage = totalSize > 0 ? (lang.size / totalSize) * 100 : 0\n                const barWidth = (percentage / 100) * 600 * Math.min(sceneProgress * 2, 1)\n\n                // Language bar\n                ctx.fillStyle = lang.color || \"#888888\"\n                ctx.fillRect(WIDTH / 2 - 300, y, barWidth, 40)\n\n                // Language name\n                ctx.font = \"bold 32px 'Segoe UI', sans-serif\"\n                ctx.fillStyle = \"#ffffff\"\n                ctx.textAlign = \"left\"\n                ctx.fillText(lang.name, WIDTH / 2 - 300, y - 20)\n\n                // Percentage\n                ctx.textAlign = \"right\"\n                ctx.fillText(`${percentage.toFixed(1)}%`, WIDTH / 2 + 300, y + 30)\n\n                ctx.textAlign = \"center\"\n            })\n\n            // Constellation effect\n            if (frame % 10 === 0) {\n                addParticles(Math.random() * WIDTH, Math.random() * HEIGHT, 2, \"rgba(0, 255, 255, 1)\")\n            }\n        } else if (scene === 4) {\n            // Scene 5: Developer class reveal\n            const classes = [\"Code Voyager\", \"Binary Architect\", \"Quantum Coder\", \"Neural Navigator\", \"Cosmic Creator\"]\n            const classIndex = Math.min(Math.floor(data.totalContributions / 200), classes.length - 1)\n            const developerClass = classes[classIndex]\n\n            ctx.font = \"bold 42px 'Segoe UI', sans-serif\"\n            ctx.fillStyle = \"#ffd700\"\n            ctx.fillText(\"DEVELOPER CLASS\", WIDTH / 2, 400)\n\n            // Class name with glow effect\n            const glowIntensity = Math.sin(sceneProgress * Math.PI * 4) * 0.3 + 0.7\n            ctx.shadowColor = \"#ff00ff\"\n            ctx.shadowBlur = 30 * glowIntensity\n            ctx.font = \"bold 72px 'Segoe UI', sans-serif\"\n            ctx.fillStyle = \"#ff00ff\"\n            ctx.fillText(developerClass, WIDTH / 2, HEIGHT / 2)\n            ctx.shadowBlur = 0\n\n            // Streak stats\n            ctx.font = \"bold 48px 'Segoe UI', sans-serif\"\n            ctx.fillStyle = \"#00ff88\"\n            ctx.fillText(`ðŸ”¥ ${data.longestStreak} Day Streak`, WIDTH / 2, HEIGHT / 2 + 150)\n\n            ctx.font = \"36px 'Segoe UI', sans-serif\"\n            ctx.fillStyle = \"#ffffff\"\n            ctx.fillText(`${data.totalContributions.toLocaleString()} Total Contributions`, WIDTH / 2, HEIGHT / 2 + 220)\n\n            // Achievement particles\n            if (sceneProgress > 0.5 && frame % 5 === 0) {\n                addParticles(WIDTH / 2, HEIGHT / 2, 10, \"rgba(255, 215, 0, 1)\")\n            }\n        } else if (scene === 5) {\n            // Scene 6: Finale - CTA\n            const scale = 1 + Math.sin(sceneProgress * Math.PI * 2) * 0.05\n\n            ctx.save()\n            ctx.translate(WIDTH / 2, HEIGHT / 2 - 100)\n            ctx.scale(scale, scale)\n\n            ctx.font = \"bold 64px 'Segoe UI', sans-serif\"\n            ctx.fillStyle = \"#ffffff\"\n            ctx.fillText(\"Generate Yours\", 0, -50)\n\n            const ctaGradient = ctx.createLinearGradient(-200, 0, 200, 0)\n            ctaGradient.addColorStop(0, \"#ff00ff\")\n            ctaGradient.addColorStop(1, \"#00ffff\")\n            ctx.fillStyle = ctaGradient\n            ctx.font = \"bold 96px 'Segoe UI', sans-serif\"\n            ctx.fillText(\"gitfm.com\", 0, 50)\n\n            ctx.restore()\n\n            // Watermark\n            ctx.font = \"24px 'Segoe UI', sans-serif\"\n            ctx.fillStyle = \"rgba(255, 255, 255, 0.5)\"\n            ctx.fillText(\"gitfm.com\", WIDTH / 2, HEIGHT - 100)\n\n            // Explosion particles\n            if (sceneProgress < 0.3 && frame % 2 === 0) {\n                addParticles(WIDTH / 2, HEIGHT / 2, 20, \"rgba(255, 0, 255, 1)\")\n                addParticles(WIDTH / 2, HEIGHT / 2, 20, \"rgba(0, 255, 255, 1)\")\n            }\n        }\n\n        // Always show watermark\n        ctx.font = \"20px 'Segoe UI', sans-serif\"\n        ctx.fillStyle = \"rgba(255, 255, 255, 0.3)\"\n        ctx.textAlign = \"right\"\n        ctx.fillText(\"gitfm.com\", WIDTH - 40, HEIGHT - 40)\n        ctx.textAlign = \"center\"\n\n        // CRT scanlines effect\n        ctx.fillStyle = \"rgba(0, 0, 0, 0.03)\"\n        for (let y = 0; y < HEIGHT; y += 4) {\n            ctx.fillRect(0, y, WIDTH, 2)\n        }\n    }, [data, addParticles])\n\n    const generateVideo = useCallback(async () => {\n        const canvas = canvasRef.current\n        if (!canvas) return\n\n        setIsGenerating(true)\n        setProgress(0)\n        chunksRef.current = []\n\n        const ctx = canvas.getContext(\"2d\")!\n        const stream = canvas.captureStream(FPS)\n\n        const mediaRecorder = new MediaRecorder(stream, {\n            mimeType: \"video/webm;codecs=vp9\",\n            videoBitsPerSecond: 8000000,\n        })\n        mediaRecorderRef.current = mediaRecorder\n\n        mediaRecorder.ondataavailable = (e) => {\n            if (e.data.size > 0) {\n                chunksRef.current.push(e.data)\n            }\n        }\n\n        mediaRecorder.onstop = () => {\n            const blob = new Blob(chunksRef.current, { type: \"video/webm\" })\n            const url = URL.createObjectURL(blob)\n            setVideoUrl(url)\n            setIsGenerating(false)\n        }\n\n        mediaRecorder.start()\n\n        const totalFrames = DURATION * FPS\n        for (let frame = 0; frame <= totalFrames; frame++) {\n            drawFrame(ctx, frame)\n            setProgress((frame / totalFrames) * 100)\n            await new Promise((r) => setTimeout(r, 1000 / FPS / 2)) // Faster than realtime\n        }\n\n        mediaRecorder.stop()\n    }, [drawFrame])\n\n    const playPreview = useCallback(() => {\n        const canvas = canvasRef.current\n        if (!canvas) return\n\n        setIsPlaying(true)\n        const ctx = canvas.getContext(\"2d\")!\n        let frame = 0\n        const totalFrames = DURATION * FPS\n\n        const animate = () => {\n            drawFrame(ctx, frame)\n            frame++\n            if (frame <= totalFrames) {\n                animationRef.current = requestAnimationFrame(animate)\n            } else {\n                setIsPlaying(false)\n            }\n        }\n\n        animate()\n    }, [drawFrame])\n\n    const downloadVideo = () => {\n        if (!videoUrl) return\n        const link = document.createElement(\"a\")\n        link.href = videoUrl\n        link.download = `gitfm-${data.user.login}-2025.webm`\n        link.click()\n    }\n\n    useEffect(() => {\n        return () => {\n            if (animationRef.current) {\n                cancelAnimationFrame(animationRef.current)\n            }\n            if (videoUrl) {\n                URL.revokeObjectURL(videoUrl)\n            }\n        }\n    }, [videoUrl])\n\n    // Initial preview frame\n    useEffect(() => {\n        const canvas = canvasRef.current\n        if (canvas) {\n            const ctx = canvas.getContext(\"2d\")!\n            drawFrame(ctx, 0)\n        }\n    }, [drawFrame])\n\n    return (\n        <div className=\"fixed inset-0 z-[70] flex items-center justify-center bg-black/90 backdrop-blur-sm\">\n            <div className=\"bg-card border border-[#ff00ff]/50 rounded-2xl p-6 max-w-lg mx-4 relative\">\n                <button\n                    onClick={onClose}\n                    className=\"absolute top-4 right-4 text-muted-foreground hover:text-foreground\"\n                >\n                    <X className=\"w-5 h-5\" />\n                </button>\n\n                <h2 className=\"text-2xl font-bold text-center mb-4 neon-pink\">\n                    ðŸš€ Create Your Video\n                </h2>\n\n                <p className=\"text-center text-muted-foreground text-sm mb-4\">\n                    Generate a cinematic recap of your 2025 GitHub journey!\n                </p>\n\n                {/* Canvas Preview */}\n                <div className=\"relative rounded-lg overflow-hidden border border-border/50 mb-4\">\n                    <canvas\n                        ref={canvasRef}\n                        width={WIDTH}\n                        height={HEIGHT}\n                        className=\"w-full\"\n                        style={{ maxHeight: \"400px\", objectFit: \"contain\" }}\n                    />\n                    {isGenerating && (\n                        <div className=\"absolute inset-0 bg-black/70 flex flex-col items-center justify-center\">\n                            <Loader2 className=\"w-10 h-10 text-[#ff00ff] animate-spin mb-4\" />\n                            <p className=\"text-white font-bold\">Generating Video...</p>\n                            <div className=\"w-48 h-2 bg-gray-700 rounded-full mt-2\">\n                                <div\n                                    className=\"h-full bg-gradient-to-r from-[#ff00ff] to-[#00ffff] rounded-full transition-all\"\n                                    style={{ width: `${progress}%` }}\n                                />\n                            </div>\n                            <p className=\"text-sm text-gray-400 mt-1\">{Math.round(progress)}%</p>\n                        </div>\n                    )}\n                </div>\n\n                {/* Action Buttons */}\n                <div className=\"flex gap-3\">\n                    {!videoUrl ? (\n                        <>\n                            <Button\n                                onClick={playPreview}\n                                disabled={isPlaying || isGenerating}\n                                variant=\"outline\"\n                                className=\"flex-1 border-[#00ffff]/50\"\n                            >\n                                <Play className=\"w-4 h-4 mr-2\" />\n                                Preview\n                            </Button>\n                            <Button\n                                onClick={generateVideo}\n                                disabled={isGenerating}\n                                className=\"flex-1 bg-gradient-to-r from-[#ff00ff] to-[#8800ff] hover:opacity-90\"\n                            >\n                                {isGenerating ? (\n                                    <>\n                                        <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />\n                                        Generating...\n                                    </>\n                                ) : (\n                                    \"Generate Video\"\n                                )}\n                            </Button>\n                        </>\n                    ) : (\n                        <>\n                            <Button\n                                onClick={() => setVideoUrl(null)}\n                                variant=\"outline\"\n                                className=\"flex-1 border-border/50\"\n                            >\n                                Create New\n                            </Button>\n                            <Button\n                                onClick={downloadVideo}\n                                className=\"flex-1 bg-gradient-to-r from-[#00ff88] to-[#00ffff] text-black font-bold\"\n                            >\n                                <Download className=\"w-4 h-4 mr-2\" />\n                                Download\n                            </Button>\n                        </>\n                    )}\n                </div>\n\n                {videoUrl && (\n                    <p className=\"text-center text-xs text-muted-foreground mt-3\">\n                        âœ¨ Video ready! Share it on TikTok, Reels, or Stories!\n                    </p>\n                )}\n            </div>\n        </div>\n    )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2447, "column": 0}, "map": {"version":3,"sources":["file:///home/popos/Downloads/code-synth-2025-app%20%281%29/components/story-mode-video.tsx"],"sourcesContent":["// // \"use client\"\n\n// // import { useRef, useState, useEffect, useCallback } from \"react\"\n// // import { Button } from \"@/components/ui/button\"\n// // import { Download, Play, Loader2, Sparkles, Rocket } from \"lucide-react\"\n// // import type { GitHubData } from \"@/lib/types\"\n\n// // interface VideoProps {\n// //     data: GitHubData\n// // }\n\n// // // Types for our engine\n// // interface Star {\n// //     x: number; y: number; z: number; size: number; color: string\n// // }\n// // interface Particle {\n// //     x: number; y: number; vx: number; vy: number; life: number; color: string; size: number; type: \"spark\" | \"smoke\" | \"glitch\"\n// // }\n// // interface Planet {\n// //     x: number; y: number; radius: number; color: string; type: \"wireframe\" | \"gas\" | \"sun\"; rotation: number\n// // }\n\n// // export function StoryModeVideo({ data }: VideoProps) {\n// //     const canvasRef = useRef<HTMLCanvasElement>(null)\n// //     const [status, setStatus] = useState<\"idle\" | \"playing\" | \"generating\" | \"done\">(\"idle\")\n// //     const [progress, setProgress] = useState(0)\n// //     const [videoUrl, setVideoUrl] = useState<string | null>(null)\n    \n// //     // Engine Refs\n// //     const animationRef = useRef<number>(0)\n// //     const chunksRef = useRef<Blob[]>([])\n// //     const starsRef = useRef<Star[]>([])\n// //     const particlesRef = useRef<Particle[]>([])\n    \n// //     // Constants\n// //     const WIDTH = 1080\n// //     const HEIGHT = 1920\n// //     const FPS = 30\n// //     const DURATION = 20 // Short & punchy for TikTok\n    \n// //     // Initialize Universe\n// //     useEffect(() => {\n// //         starsRef.current = Array.from({ length: 800 }, () => ({\n// //             x: (Math.random() - 0.5) * WIDTH * 3,\n// //             y: (Math.random() - 0.5) * HEIGHT * 3,\n// //             z: Math.random() * 2000,\n// //             size: Math.random() * 2,\n// //             color: Math.random() > 0.9 ? \"#00ffff\" : \"#ffffff\"\n// //         }))\n// //     }, [])\n\n// //     const addExplosion = (x: number, y: number, color: string, count = 20) => {\n// //         for(let i=0; i<count; i++) {\n// //             const angle = Math.random() * Math.PI * 2\n// //             const speed = Math.random() * 15\n// //             particlesRef.current.push({\n// //                 x, y,\n// //                 vx: Math.cos(angle) * speed,\n// //                 vy: Math.sin(angle) * speed,\n// //                 life: 1.0,\n// //                 color,\n// //                 size: Math.random() * 5 + 2,\n// //                 type: \"spark\"\n// //             })\n// //         }\n// //     }\n\n// //     // The Main Render Function\n// //     const drawFrame = useCallback((ctx: CanvasRenderingContext2D, frame: number) => {\n// //         const t = frame / (DURATION * FPS) // Normalized time 0 -> 1\n        \n// //         // --- 1. Background & Camera ---\n// //         const warpFactor = (t > 0.1 && t < 0.2) || (t > 0.4 && t < 0.5) || (t > 0.7 && t < 0.8) ? 50 : 2\n        \n// //         // Shake effect during warp\n// //         const shakeX = warpFactor > 10 ? (Math.random() - 0.5) * 10 : 0\n// //         const shakeY = warpFactor > 10 ? (Math.random() - 0.5) * 10 : 0\n        \n// //         ctx.save()\n// //         ctx.translate(shakeX, shakeY)\n\n// //         // Deep Space\n// //         ctx.fillStyle = \"#050510\"\n// //         ctx.fillRect(-50, -50, WIDTH + 100, HEIGHT + 100)\n\n// //         // 3D Stars\n// //         const centerX = WIDTH / 2\n// //         const centerY = HEIGHT / 2\n        \n// //         starsRef.current.forEach(star => {\n// //             star.z -= 10 * warpFactor\n// //             if (star.z <= 0) {\n// //                 star.z = 2000\n// //                 star.x = (Math.random() - 0.5) * WIDTH * 3\n// //                 star.y = (Math.random() - 0.5) * HEIGHT * 3\n// //             }\n            \n// //             const perspective = 400 / star.z\n// //             const sx = centerX + star.x * perspective\n// //             const sy = centerY + star.y * perspective\n            \n// //             if (sx > 0 && sx < WIDTH && sy > 0 && sy < HEIGHT) {\n// //                 const size = star.size * perspective * (warpFactor > 10 ? 0.5 : 1)\n                \n// //                 // Warp trails\n// //                 if (warpFactor > 10) {\n// //                     ctx.beginPath()\n// //                     ctx.moveTo(sx, sy)\n// //                     ctx.lineTo(centerX + (sx - centerX) * 0.9, centerY + (sy - centerY) * 0.9)\n// //                     ctx.strokeStyle = `rgba(200, 255, 255, ${0.2 * perspective})`\n// //                     ctx.lineWidth = size\n// //                     ctx.stroke()\n// //                 } else {\n// //                     ctx.fillStyle = `rgba(255, 255, 255, ${Math.min(1, perspective)})`\n// //                     ctx.beginPath()\n// //                     ctx.arc(sx, sy, size, 0, Math.PI*2)\n// //                     ctx.fill()\n// //                 }\n// //             }\n// //         })\n\n// //         // --- 2. Narrative Scenes ---\n        \n// //         // SCENE 1: SYSTEM BOOT (0% - 15%)\n// //         if (t < 0.15) {\n// //             const opacity = Math.min(1, t * 10)\n// //             ctx.globalAlpha = opacity\n            \n// //             // Cyberpunk Grid\n// //             ctx.strokeStyle = \"rgba(0, 255, 255, 0.2)\"\n// //             ctx.lineWidth = 2\n// //             const gridY = HEIGHT / 2 + 200\n// //             ctx.beginPath()\n// //             for(let i=-10; i<=10; i++) {\n// //                 ctx.moveTo(WIDTH/2 + i*100 * t*2, gridY)\n// //                 ctx.lineTo(WIDTH/2 + i*200, HEIGHT)\n// //             }\n// //             ctx.stroke()\n\n// //             // Text\n// //             ctx.textAlign = \"center\"\n// //             ctx.font = \"bold 80px 'Courier New'\"\n// //             ctx.fillStyle = \"#00ffff\"\n// //             ctx.shadowColor = \"#00ffff\"\n// //             ctx.shadowBlur = 20\n// //             ctx.fillText(\"SYSTEM INITIALIZED\", WIDTH/2, HEIGHT/2 - 100)\n            \n// //             ctx.font = \"40px 'Courier New'\"\n// //             ctx.fillStyle = \"#ffffff\"\n// //             ctx.shadowBlur = 0\n// //             ctx.fillText(`PILOT: @${data.user.login.toUpperCase()}`, WIDTH/2, HEIGHT/2 + 50)\n            \n// //             // Loading Bar\n// //             const barW = 600\n// //             ctx.fillStyle = \"#333\"\n// //             ctx.fillRect(WIDTH/2 - barW/2, HEIGHT/2 + 150, barW, 20)\n// //             ctx.fillStyle = \"#00ff00\"\n// //             ctx.fillRect(WIDTH/2 - barW/2, HEIGHT/2 + 150, barW * (t/0.15), 20)\n// //         }\n\n// //         // SCENE 2: PLANET COMMITS (15% - 40%)\n// //         else if (t >= 0.15 && t < 0.40) {\n// //             const localT = (t - 0.15) / 0.25\n            \n// //             // Draw Wireframe Planet\n// //             const planetX = WIDTH/2\n// //             const planetY = HEIGHT/2 + 100\n// //             const radius = 300\n            \n// //             ctx.save()\n// //             ctx.translate(planetX, planetY)\n// //             ctx.rotate(frame * 0.01)\n            \n// //             ctx.strokeStyle = \"#00ff88\"\n// //             ctx.lineWidth = 2\n// //             ctx.beginPath()\n// //             ctx.arc(0, 0, radius, 0, Math.PI*2)\n// //             ctx.stroke()\n            \n// //             // Latitude lines\n// //             for(let i=0; i<5; i++) {\n// //                 ctx.beginPath()\n// //                 ctx.ellipse(0, 0, radius, radius * (0.2 + i*0.15), 0, 0, Math.PI*2)\n// //                 ctx.stroke()\n// //             }\n// //             ctx.restore()\n\n// //             // Hologram Stats\n// //             ctx.textAlign = \"center\"\n// //             const scale = Math.min(1, localT * 5)\n            \n// //             ctx.save()\n// //             ctx.translate(WIDTH/2, 400)\n// //             ctx.scale(scale, scale)\n            \n// //             ctx.font = \"bold 120px 'Segoe UI'\"\n// //             ctx.fillStyle = \"#ffffff\"\n// //             ctx.shadowColor = \"#00ff88\"\n// //             ctx.shadowBlur = 30\n// //             ctx.fillText(data.totalCommits.toLocaleString(), 0, 0)\n            \n// //             ctx.font = \"40px 'Segoe UI'\"\n// //             ctx.fillStyle = \"#00ff88\"\n// //             ctx.shadowBlur = 0\n// //             ctx.fillText(\"COMMITS DEPLOYED\", 0, 60)\n// //             ctx.restore()\n\n// //             // Particles\n// //             if (frame % 5 === 0) {\n// //                 addExplosion(WIDTH/2, HEIGHT/2, \"#00ff88\", 2)\n// //             }\n// //         }\n\n// //         // SCENE 3: NEBULA OF LANGUAGES (40% - 65%)\n// //         else if (t >= 0.40 && t < 0.65) {\n// //             const localT = (t - 0.40) / 0.25\n            \n// //             // Draw Nebula Clouds (Gradient blobs)\n// //             const gradient = ctx.createRadialGradient(WIDTH/2, HEIGHT/2, 50, WIDTH/2, HEIGHT/2, 600)\n// //             gradient.addColorStop(0, \"rgba(255, 0, 255, 0.2)\")\n// //             gradient.addColorStop(0.5, \"rgba(0, 255, 255, 0.1)\")\n// //             gradient.addColorStop(1, \"transparent\")\n// //             ctx.fillStyle = gradient\n// //             ctx.fillRect(0, 0, WIDTH, HEIGHT)\n\n// //             // Orbiting Languages\n// //             const topLangs = data.languages.slice(0, 4)\n// //             topLangs.forEach((lang, i) => {\n// //                 const angle = (frame * 0.02) + (i * (Math.PI * 2 / topLangs.length))\n// //                 const orbitR = 350\n// //                 const lx = WIDTH/2 + Math.cos(angle) * orbitR\n// //                 const ly = HEIGHT/2 + Math.sin(angle) * orbitR\n\n// //                 // Connection line\n// //                 ctx.beginPath()\n// //                 ctx.moveTo(WIDTH/2, HEIGHT/2)\n// //                 ctx.lineTo(lx, ly)\n// //                 ctx.strokeStyle = \"rgba(255,255,255,0.1)\"\n// //                 ctx.stroke()\n\n// //                 // Planet/Node\n// //                 ctx.beginPath()\n// //                 ctx.arc(lx, ly, 40, 0, Math.PI*2)\n// //                 ctx.fillStyle = lang.color || \"#fff\"\n// //                 ctx.fill()\n                \n// //                 // Label\n// //                 ctx.font = \"bold 30px 'Segoe UI'\"\n// //                 ctx.fillStyle = \"#fff\"\n// //                 ctx.fillText(lang.name, lx, ly + 60)\n// //             })\n\n// //             // Center Stat\n// //             ctx.font = \"bold 50px 'Segoe UI'\"\n// //             ctx.fillStyle = \"#fff\"\n// //             ctx.fillText(\"TOP LANGUAGES\", WIDTH/2, 200)\n// //         }\n\n// //         // SCENE 4: THE SOLAR STREAK (65% - 85%)\n// //         else if (t >= 0.65 && t < 0.85) {\n// //             const localT = (t - 0.65) / 0.2\n            \n// //             // Burning Sun\n// //             const sunY = HEIGHT/2 + 100\n// //             const glow = 100 + Math.sin(frame * 0.1) * 20\n            \n// //             const sunGrad = ctx.createRadialGradient(WIDTH/2, sunY, 100, WIDTH/2, sunY, 500)\n// //             sunGrad.addColorStop(0, \"#ffff00\")\n// //             sunGrad.addColorStop(0.4, \"#ff8800\")\n// //             sunGrad.addColorStop(1, \"transparent\")\n            \n// //             ctx.fillStyle = sunGrad\n// //             ctx.fillRect(0, 0, WIDTH, HEIGHT)\n            \n// //             ctx.fillStyle = \"#fff\"\n// //             ctx.beginPath()\n// //             ctx.arc(WIDTH/2, sunY, 150, 0, Math.PI*2)\n// //             ctx.fill()\n\n// //             // Fire Text\n// //             ctx.font = \"bold 180px 'Segoe UI'\"\n// //             ctx.fillStyle = \"#000\"\n// //             ctx.fillText(\"ðŸ”¥\", WIDTH/2, sunY + 60)\n\n// //             ctx.font = \"bold 140px 'Segoe UI'\"\n// //             ctx.fillStyle = \"#ffffff\"\n// //             ctx.shadowColor = \"#ff0000\"\n// //             ctx.shadowBlur = 40\n// //             ctx.fillText(`${data.longestStreak}`, WIDTH/2, 400)\n// //             ctx.font = \"50px 'Segoe UI'\"\n// //             ctx.fillText(\"DAY STREAK\", WIDTH/2, 500)\n// //             ctx.shadowBlur = 0\n// //         }\n\n// //         // SCENE 5: MISSION REPORT (85% - 100%)\n// //         else {\n// //             const localT = (t - 0.85) / 0.15\n            \n// //             // Card Slide In\n// //             const cardY = HEIGHT/2 + (1-Math.min(1, localT*2)) * 500\n            \n// //             // Glassmorphism Card\n// //             ctx.save()\n// //             ctx.translate(WIDTH/2, cardY)\n            \n// //             ctx.fillStyle = \"rgba(255, 255, 255, 0.1)\"\n// //             ctx.strokeStyle = \"rgba(255, 255, 255, 0.2)\"\n// //             ctx.lineWidth = 2\n// //             ctx.beginPath()\n// //             ctx.roundRect(-400, -300, 800, 600, 40)\n// //             ctx.fill()\n// //             ctx.stroke()\n            \n// //             // Content\n// //             ctx.fillStyle = \"#fff\"\n// //             ctx.font = \"bold 60px 'Segoe UI'\"\n// //             ctx.fillText(\"MISSION COMPLETE\", 0, -200)\n            \n// //             ctx.font = \"40px 'Segoe UI'\"\n// //             ctx.fillStyle = \"#aaa\"\n// //             ctx.fillText(\"Class: \" + getRank(data.totalContributions), 0, -120)\n\n// //             // Mini Stats\n// //             const stats = [\n// //                 { l: \"Stars\", v: data.totalStarsEarned },\n// //                 { l: \"PRs\", v: data.totalPRsMerged },\n// //                 { l: \"Issues\", v: data.totalIssuesOpened }\n// //             ]\n            \n// //             stats.forEach((s, i) => {\n// //                 const x = (i - 1) * 250\n// //                 ctx.font = \"bold 50px 'Segoe UI'\"\n// //                 ctx.fillStyle = \"#00ffff\"\n// //                 ctx.fillText(s.v.toString(), x, 50)\n// //                 ctx.font = \"30px 'Segoe UI'\"\n// //                 ctx.fillStyle = \"#fff\"\n// //                 ctx.fillText(s.l, x, 100)\n// //             })\n\n// //             // Footer\n// //             ctx.font = \"bold 50px 'Segoe UI'\"\n// //             ctx.fillStyle = \"#ff00ff\"\n// //             ctx.fillText(\"gitfm.com\", 0, 220)\n            \n// //             ctx.restore()\n// //         }\n\n// //         // --- 3. HUD Overlay (Always On) ---\n// //         drawHUD(ctx, WIDTH, HEIGHT, frame, data)\n\n// //         // Particles Update\n// //         particlesRef.current = particlesRef.current.filter(p => p.life > 0)\n// //         particlesRef.current.forEach(p => {\n// //             p.x += p.vx\n// //             p.y += p.vy\n// //             p.life -= 0.02\n// //             ctx.globalAlpha = p.life\n// //             ctx.fillStyle = p.color\n// //             ctx.beginPath()\n// //             ctx.arc(p.x, p.y, p.size, 0, Math.PI*2)\n// //             ctx.fill()\n// //         })\n// //         ctx.globalAlpha = 1\n// //         ctx.restore() // Restore shake\n\n// //     }, [data])\n\n// //     const drawHUD = (ctx: CanvasRenderingContext2D, w: number, h: number, f: number, data: GitHubData) => {\n// //         // Corners\n// //         ctx.strokeStyle = \"rgba(0, 255, 255, 0.5)\"\n// //         ctx.lineWidth = 4\n// //         const m = 40\n// //         const len = 60\n        \n// //         // Top Left\n// //         ctx.beginPath(); ctx.moveTo(m, m+len); ctx.lineTo(m, m); ctx.lineTo(m+len, m); ctx.stroke()\n// //         // Top Right\n// //         ctx.beginPath(); ctx.moveTo(w-m-len, m); ctx.lineTo(w-m, m); ctx.lineTo(w-m, m+len); ctx.stroke()\n// //         // Bottom Left\n// //         ctx.beginPath(); ctx.moveTo(m, h-m-len); ctx.lineTo(m, h-m); ctx.lineTo(m+len, h-m); ctx.stroke()\n// //         // Bottom Right\n// //         ctx.beginPath(); ctx.moveTo(w-m-len, h-m); ctx.lineTo(w-m, h-m); ctx.lineTo(w-m, h-m-len); ctx.stroke()\n\n// //         // Scanning Line\n// //         const scanY = (f % 200) / 200 * h\n// //         ctx.fillStyle = \"rgba(0, 255, 255, 0.05)\"\n// //         ctx.fillRect(0, scanY, w, 10)\n\n// //         // Bottom Text\n// //         ctx.font = \"24px 'Courier New'\"\n// //         ctx.fillStyle = \"rgba(255, 255, 255, 0.7)\"\n// //         ctx.textAlign = \"left\"\n// //         ctx.fillText(`ALT: ${(f * 123) % 99999} FT`, 60, h - 60)\n// //         ctx.textAlign = \"right\"\n// //         ctx.fillText(`V: ${Math.floor(299792 + Math.sin(f*0.1)*100)} km/s`, w - 60, h - 60)\n// //         ctx.textAlign = \"center\"\n// //     }\n\n// //     const getRank = (contribs: number) => {\n// //         if(contribs > 1000) return \"GALACTIC LEGEND\"\n// //         if(contribs > 500) return \"FLEET ADMIRAL\"\n// //         if(contribs > 100) return \"SPACE COMMANDER\"\n// //         return \"STAR CADET\"\n// //     }\n\n// //     // Video Recording Logic\n// //     const generate = async () => {\n// //         setStatus(\"generating\")\n// //         const canvas = canvasRef.current\n// //         if (!canvas) return\n        \n// //         const stream = canvas.captureStream(FPS)\n// //         const recorder = new MediaRecorder(stream, { mimeType: 'video/webm;codecs=vp9', videoBitsPerSecond: 8000000 })\n        \n// //         recorder.ondataavailable = e => { if (e.data.size > 0) chunksRef.current.push(e.data) }\n// //         recorder.onstop = () => {\n// //             const blob = new Blob(chunksRef.current, { type: 'video/webm' })\n// //             setVideoUrl(URL.createObjectURL(blob))\n// //             setStatus(\"done\")\n// //         }\n        \n// //         recorder.start()\n// //         const ctx = canvas.getContext('2d')!\n        \n// //         for (let i = 0; i < DURATION * FPS; i++) {\n// //             drawFrame(ctx, i)\n// //             setProgress((i / (DURATION * FPS)) * 100)\n// //             await new Promise(r => setTimeout(r, 0)) // No delay for fast generation\n// //         }\n// //         recorder.stop()\n// //     }\n\n// //     const preview = () => {\n// //         setStatus(\"playing\")\n// //         let f = 0\n// //         const loop = () => {\n// //             if (canvasRef.current) drawFrame(canvasRef.current.getContext('2d')!, f++)\n// //             if (f < DURATION * FPS && status !== 'idle') requestAnimationFrame(loop)\n// //             else setStatus(\"idle\")\n// //         }\n// //         loop()\n// //     }\n\n// //     return (\n// //         <div className=\"flex flex-col items-center gap-6 w-full max-w-lg mx-auto p-4\">\n// //              <div className=\"relative w-full aspect-[9/16] bg-black rounded-xl overflow-hidden shadow-[0_0_30px_rgba(0,255,255,0.3)] border border-[#333]\">\n// //                 <canvas ref={canvasRef} width={WIDTH} height={HEIGHT} className=\"w-full h-full object-cover\" />\n                \n// //                 {status === 'generating' && (\n// //                     <div className=\"absolute inset-0 bg-black/80 flex flex-col items-center justify-center\">\n// //                         <Rocket className=\"w-12 h-12 text-[#ff00ff] animate-bounce mb-4\" />\n// //                         <div className=\"text-[#00ffff] font-mono text-xl mb-2\">RENDERING UNIVERSE...</div>\n// //                         <div className=\"w-64 h-2 bg-[#333] rounded-full overflow-hidden\">\n// //                             <div className=\"h-full bg-[#00ffff]\" style={{width: `${progress}%`}} />\n// //                         </div>\n// //                     </div>\n// //                 )}\n// //             </div>\n\n// //             <div className=\"flex gap-4 w-full\">\n// //                 {!videoUrl ? (\n// //                     <>\n// //                         <Button onClick={preview} variant=\"outline\" className=\"flex-1 h-12 border-[#00ffff] text-[#00ffff] hover:bg-[#00ffff]/10\">\n// //                             <Play className=\"w-4 h-4 mr-2\" /> PREVIEW\n// //                         </Button>\n// //                         <Button onClick={generate} className=\"flex-1 h-12 bg-gradient-to-r from-[#00ffff] to-[#ff00ff] text-black font-bold\">\n// //                             <Sparkles className=\"w-4 h-4 mr-2\" /> GENERATE\n// //                         </Button>\n// //                     </>\n// //                 ) : (\n// //                     <Button onClick={() => {\n// //                         const a = document.createElement('a')\n// //                         a.href = videoUrl\n// //                         a.download = `gitfm-story-${data.user.login}.webm`\n// //                         a.click()\n// //                     }} className=\"w-full h-12 bg-[#00ff88] text-black font-bold text-lg animate-pulse\">\n// //                         <Download className=\"w-5 h-5 mr-2\" /> DOWNLOAD VIDEO\n// //                     </Button>\n// //                 )}\n// //             </div>\n// //         </div>\n// //     )\n// // }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// \"use client\"\n\n// import { useRef, useState, useEffect, useCallback } from \"react\"\n// import { Button } from \"@/components/ui/button\"\n// import { Download, Play, Loader2, Sparkles, Rocket } from \"lucide-react\"\n// import type { GitHubData } from \"@/lib/types\"\n\n// interface VideoProps {\n//     data: GitHubData\n// }\n\n// // Types for our engine\n// interface Star {\n//     x: number; y: number; z: number; size: number; color: string\n// }\n// interface Particle {\n//     x: number; y: number; vx: number; vy: number; life: number; color: string; size: number; type: \"spark\" | \"smoke\" | \"glitch\"\n// }\n\n// export function StoryModeVideo({ data }: VideoProps) {\n//     const canvasRef = useRef<HTMLCanvasElement>(null)\n//     const [status, setStatus] = useState<\"idle\" | \"playing\" | \"generating\" | \"done\">(\"idle\")\n//     const [progress, setProgress] = useState(0)\n//     const [videoUrl, setVideoUrl] = useState<string | null>(null)\n    \n//     // Engine Refs\n//     const animationRef = useRef<number>(0)\n//     const isPlayingRef = useRef(false) // Fix: Use ref to track playing state\n//     const chunksRef = useRef<Blob[]>([])\n//     const starsRef = useRef<Star[]>([])\n//     const particlesRef = useRef<Particle[]>([])\n    \n//     // Constants\n//     const WIDTH = 1080\n//     const HEIGHT = 1920\n//     const FPS = 30\n//     const DURATION = 20 // Short & punchy for TikTok\n    \n//     // Initialize Universe\n//     useEffect(() => {\n//         starsRef.current = Array.from({ length: 800 }, () => ({\n//             x: (Math.random() - 0.5) * WIDTH * 3,\n//             y: (Math.random() - 0.5) * HEIGHT * 3,\n//             z: Math.random() * 2000,\n//             size: Math.random() * 2,\n//             color: Math.random() > 0.9 ? \"#00ffff\" : \"#ffffff\"\n//         }))\n//     }, [])\n\n//     const addExplosion = (x: number, y: number, color: string, count = 20) => {\n//         for(let i=0; i<count; i++) {\n//             const angle = Math.random() * Math.PI * 2\n//             const speed = Math.random() * 15\n//             particlesRef.current.push({\n//                 x, y,\n//                 vx: Math.cos(angle) * speed,\n//                 vy: Math.sin(angle) * speed,\n//                 life: 1.0,\n//                 color,\n//                 size: Math.random() * 5 + 2,\n//                 type: \"spark\"\n//             })\n//         }\n//     }\n\n//     // The Main Render Function\n//     const drawFrame = useCallback((ctx: CanvasRenderingContext2D, frame: number) => {\n//         const t = frame / (DURATION * FPS) // Normalized time 0 -> 1\n        \n//         // --- 1. Background & Camera ---\n//         const warpFactor = (t > 0.1 && t < 0.2) || (t > 0.4 && t < 0.5) || (t > 0.7 && t < 0.8) ? 50 : 2\n        \n//         // Shake effect during warp\n//         const shakeX = warpFactor > 10 ? (Math.random() - 0.5) * 10 : 0\n//         const shakeY = warpFactor > 10 ? (Math.random() - 0.5) * 10 : 0\n        \n//         ctx.save()\n//         ctx.translate(shakeX, shakeY)\n\n//         // Deep Space\n//         ctx.fillStyle = \"#050510\"\n//         ctx.fillRect(-50, -50, WIDTH + 100, HEIGHT + 100)\n\n//         // 3D Stars\n//         const centerX = WIDTH / 2\n//         const centerY = HEIGHT / 2\n        \n//         starsRef.current.forEach(star => {\n//             star.z -= 10 * warpFactor\n//             if (star.z <= 0) {\n//                 star.z = 2000\n//                 star.x = (Math.random() - 0.5) * WIDTH * 3\n//                 star.y = (Math.random() - 0.5) * HEIGHT * 3\n//             }\n            \n//             const perspective = 400 / star.z\n//             const sx = centerX + star.x * perspective\n//             const sy = centerY + star.y * perspective\n            \n//             if (sx > 0 && sx < WIDTH && sy > 0 && sy < HEIGHT) {\n//                 const size = star.size * perspective * (warpFactor > 10 ? 0.5 : 1)\n                \n//                 // Warp trails\n//                 if (warpFactor > 10) {\n//                     ctx.beginPath()\n//                     ctx.moveTo(sx, sy)\n//                     ctx.lineTo(centerX + (sx - centerX) * 0.9, centerY + (sy - centerY) * 0.9)\n//                     ctx.strokeStyle = `rgba(200, 255, 255, ${0.2 * perspective})`\n//                     ctx.lineWidth = size\n//                     ctx.stroke()\n//                 } else {\n//                     ctx.fillStyle = `rgba(255, 255, 255, ${Math.min(1, perspective)})`\n//                     ctx.beginPath()\n//                     ctx.arc(sx, sy, size, 0, Math.PI*2)\n//                     ctx.fill()\n//                 }\n//             }\n//         })\n\n//         // --- 2. Narrative Scenes ---\n        \n//         // SCENE 1: SYSTEM BOOT (0% - 15%)\n//         if (t < 0.15) {\n//             const opacity = Math.min(1, t * 10)\n//             ctx.globalAlpha = opacity\n            \n//             // Cyberpunk Grid\n//             ctx.strokeStyle = \"rgba(0, 255, 255, 0.2)\"\n//             ctx.lineWidth = 2\n//             const gridY = HEIGHT / 2 + 200\n//             ctx.beginPath()\n//             for(let i=-10; i<=10; i++) {\n//                 ctx.moveTo(WIDTH/2 + i*100 * t*2, gridY)\n//                 ctx.lineTo(WIDTH/2 + i*200, HEIGHT)\n//             }\n//             ctx.stroke()\n\n//             // Text\n//             ctx.textAlign = \"center\"\n//             ctx.font = \"bold 80px 'Courier New'\"\n//             ctx.fillStyle = \"#00ffff\"\n//             ctx.shadowColor = \"#00ffff\"\n//             ctx.shadowBlur = 20\n//             ctx.fillText(\"SYSTEM INITIALIZED\", WIDTH/2, HEIGHT/2 - 100)\n            \n//             ctx.font = \"40px 'Courier New'\"\n//             ctx.fillStyle = \"#ffffff\"\n//             ctx.shadowBlur = 0\n//             ctx.fillText(`PILOT: @${data.user.login.toUpperCase()}`, WIDTH/2, HEIGHT/2 + 50)\n            \n//             // Loading Bar\n//             const barW = 600\n//             ctx.fillStyle = \"#333\"\n//             ctx.fillRect(WIDTH/2 - barW/2, HEIGHT/2 + 150, barW, 20)\n//             ctx.fillStyle = \"#00ff00\"\n//             ctx.fillRect(WIDTH/2 - barW/2, HEIGHT/2 + 150, barW * (t/0.15), 20)\n//         }\n\n//         // SCENE 2: PLANET COMMITS (15% - 40%)\n//         else if (t >= 0.15 && t < 0.40) {\n//             const localT = (t - 0.15) / 0.25\n            \n//             // Draw Wireframe Planet\n//             const planetX = WIDTH/2\n//             const planetY = HEIGHT/2 + 100\n//             const radius = 300\n            \n//             ctx.save()\n//             ctx.translate(planetX, planetY)\n//             ctx.rotate(frame * 0.01)\n            \n//             ctx.strokeStyle = \"#00ff88\"\n//             ctx.lineWidth = 2\n//             ctx.beginPath()\n//             ctx.arc(0, 0, radius, 0, Math.PI*2)\n//             ctx.stroke()\n            \n//             // Latitude lines\n//             for(let i=0; i<5; i++) {\n//                 ctx.beginPath()\n//                 ctx.ellipse(0, 0, radius, radius * (0.2 + i*0.15), 0, 0, Math.PI*2)\n//                 ctx.stroke()\n//             }\n//             ctx.restore()\n\n//             // Hologram Stats\n//             ctx.textAlign = \"center\"\n//             const scale = Math.min(1, localT * 5)\n            \n//             ctx.save()\n//             ctx.translate(WIDTH/2, 400)\n//             ctx.scale(scale, scale)\n            \n//             ctx.font = \"bold 120px 'Segoe UI'\"\n//             ctx.fillStyle = \"#ffffff\"\n//             ctx.shadowColor = \"#00ff88\"\n//             ctx.shadowBlur = 30\n//             ctx.fillText(data.totalCommits.toLocaleString(), 0, 0)\n            \n//             ctx.font = \"40px 'Segoe UI'\"\n//             ctx.fillStyle = \"#00ff88\"\n//             ctx.shadowBlur = 0\n//             ctx.fillText(\"COMMITS DEPLOYED\", 0, 60)\n//             ctx.restore()\n\n//             // Particles\n//             if (frame % 5 === 0) {\n//                 addExplosion(WIDTH/2, HEIGHT/2, \"#00ff88\", 2)\n//             }\n//         }\n\n//         // SCENE 3: NEBULA OF LANGUAGES (40% - 65%)\n//         else if (t >= 0.40 && t < 0.65) {\n//             const localT = (t - 0.40) / 0.25\n            \n//             // Draw Nebula Clouds (Gradient blobs)\n//             const gradient = ctx.createRadialGradient(WIDTH/2, HEIGHT/2, 50, WIDTH/2, HEIGHT/2, 600)\n//             gradient.addColorStop(0, \"rgba(255, 0, 255, 0.2)\")\n//             gradient.addColorStop(0.5, \"rgba(0, 255, 255, 0.1)\")\n//             gradient.addColorStop(1, \"transparent\")\n//             ctx.fillStyle = gradient\n//             ctx.fillRect(0, 0, WIDTH, HEIGHT)\n\n//             // Orbiting Languages\n//             const topLangs = data.languages.slice(0, 4)\n//             topLangs.forEach((lang, i) => {\n//                 const angle = (frame * 0.02) + (i * (Math.PI * 2 / topLangs.length))\n//                 const orbitR = 350\n//                 const lx = WIDTH/2 + Math.cos(angle) * orbitR\n//                 const ly = HEIGHT/2 + Math.sin(angle) * orbitR\n\n//                 // Connection line\n//                 ctx.beginPath()\n//                 ctx.moveTo(WIDTH/2, HEIGHT/2)\n//                 ctx.lineTo(lx, ly)\n//                 ctx.strokeStyle = \"rgba(255,255,255,0.1)\"\n//                 ctx.stroke()\n\n//                 // Planet/Node\n//                 ctx.beginPath()\n//                 ctx.arc(lx, ly, 40, 0, Math.PI*2)\n//                 ctx.fillStyle = lang.color || \"#fff\"\n//                 ctx.fill()\n                \n//                 // Label\n//                 ctx.font = \"bold 30px 'Segoe UI'\"\n//                 ctx.fillStyle = \"#fff\"\n//                 ctx.fillText(lang.name, lx, ly + 60)\n//             })\n\n//             // Center Stat\n//             ctx.font = \"bold 50px 'Segoe UI'\"\n//             ctx.fillStyle = \"#fff\"\n//             ctx.fillText(\"TOP LANGUAGES\", WIDTH/2, 200)\n//         }\n\n//         // SCENE 4: THE SOLAR STREAK (65% - 85%)\n//         else if (t >= 0.65 && t < 0.85) {\n//             const localT = (t - 0.65) / 0.2\n            \n//             // Burning Sun\n//             const sunY = HEIGHT/2 + 100\n            \n//             const sunGrad = ctx.createRadialGradient(WIDTH/2, sunY, 100, WIDTH/2, sunY, 500)\n//             sunGrad.addColorStop(0, \"#ffff00\")\n//             sunGrad.addColorStop(0.4, \"#ff8800\")\n//             sunGrad.addColorStop(1, \"transparent\")\n            \n//             ctx.fillStyle = sunGrad\n//             ctx.fillRect(0, 0, WIDTH, HEIGHT)\n            \n//             ctx.fillStyle = \"#fff\"\n//             ctx.beginPath()\n//             ctx.arc(WIDTH/2, sunY, 150, 0, Math.PI*2)\n//             ctx.fill()\n\n//             // Fire Text\n//             ctx.font = \"bold 180px 'Segoe UI'\"\n//             ctx.fillStyle = \"#000\"\n//             ctx.fillText(\"ðŸ”¥\", WIDTH/2, sunY + 60)\n\n//             ctx.font = \"bold 140px 'Segoe UI'\"\n//             ctx.fillStyle = \"#ffffff\"\n//             ctx.shadowColor = \"#ff0000\"\n//             ctx.shadowBlur = 40\n//             ctx.fillText(`${data.longestStreak}`, WIDTH/2, 400)\n//             ctx.font = \"50px 'Segoe UI'\"\n//             ctx.fillText(\"DAY STREAK\", WIDTH/2, 500)\n//             ctx.shadowBlur = 0\n//         }\n\n//         // SCENE 5: MISSION REPORT (85% - 100%)\n//         else {\n//             const localT = (t - 0.85) / 0.15\n            \n//             // Card Slide In\n//             const cardY = HEIGHT/2 + (1-Math.min(1, localT*2)) * 500\n            \n//             // Glassmorphism Card\n//             ctx.save()\n//             ctx.translate(WIDTH/2, cardY)\n            \n//             ctx.fillStyle = \"rgba(255, 255, 255, 0.1)\"\n//             ctx.strokeStyle = \"rgba(255, 255, 255, 0.2)\"\n//             ctx.lineWidth = 2\n//             ctx.beginPath()\n//             ctx.roundRect(-400, -300, 800, 600, 40)\n//             ctx.fill()\n//             ctx.stroke()\n            \n//             // Content\n//             ctx.fillStyle = \"#fff\"\n//             ctx.font = \"bold 60px 'Segoe UI'\"\n//             ctx.fillText(\"MISSION COMPLETE\", 0, -200)\n            \n//             ctx.font = \"40px 'Segoe UI'\"\n//             ctx.fillStyle = \"#aaa\"\n//             ctx.fillText(\"Class: \" + getRank(data.totalContributions), 0, -120)\n\n//             // Mini Stats\n//             const stats = [\n//                 { l: \"Stars\", v: data.totalStarsEarned },\n//                 { l: \"PRs\", v: data.totalPRsMerged },\n//                 { l: \"Issues\", v: data.totalIssuesOpened }\n//             ]\n            \n//             stats.forEach((s, i) => {\n//                 const x = (i - 1) * 250\n//                 ctx.font = \"bold 50px 'Segoe UI'\"\n//                 ctx.fillStyle = \"#00ffff\"\n//                 ctx.fillText(s.v.toString(), x, 50)\n//                 ctx.font = \"30px 'Segoe UI'\"\n//                 ctx.fillStyle = \"#fff\"\n//                 ctx.fillText(s.l, x, 100)\n//             })\n\n//             // Footer\n//             ctx.font = \"bold 50px 'Segoe UI'\"\n//             ctx.fillStyle = \"#ff00ff\"\n//             ctx.fillText(\"gitfm.com\", 0, 220)\n            \n//             ctx.restore()\n//         }\n\n//         // --- 3. HUD Overlay (Always On) ---\n//         drawHUD(ctx, WIDTH, HEIGHT, frame, data)\n\n//         // Particles Update\n//         particlesRef.current = particlesRef.current.filter(p => p.life > 0)\n//         particlesRef.current.forEach(p => {\n//             p.x += p.vx\n//             p.y += p.vy\n//             p.life -= 0.02\n//             ctx.globalAlpha = p.life\n//             ctx.fillStyle = p.color\n//             ctx.beginPath()\n//             ctx.arc(p.x, p.y, p.size, 0, Math.PI*2)\n//             ctx.fill()\n//         })\n//         ctx.globalAlpha = 1\n//         ctx.restore() // Restore shake\n\n//     }, [data])\n\n//     const drawHUD = (ctx: CanvasRenderingContext2D, w: number, h: number, f: number, data: GitHubData) => {\n//         // Corners\n//         ctx.strokeStyle = \"rgba(0, 255, 255, 0.5)\"\n//         ctx.lineWidth = 4\n//         const m = 40\n//         const len = 60\n        \n//         // Top Left\n//         ctx.beginPath(); ctx.moveTo(m, m+len); ctx.lineTo(m, m); ctx.lineTo(m+len, m); ctx.stroke()\n//         // Top Right\n//         ctx.beginPath(); ctx.moveTo(w-m-len, m); ctx.lineTo(w-m, m); ctx.lineTo(w-m, m+len); ctx.stroke()\n//         // Bottom Left\n//         ctx.beginPath(); ctx.moveTo(m, h-m-len); ctx.lineTo(m, h-m); ctx.lineTo(m+len, h-m); ctx.stroke()\n//         // Bottom Right\n//         ctx.beginPath(); ctx.moveTo(w-m-len, h-m); ctx.lineTo(w-m, h-m); ctx.lineTo(w-m, h-m-len); ctx.stroke()\n\n//         // Scanning Line\n//         const scanY = (f % 200) / 200 * h\n//         ctx.fillStyle = \"rgba(0, 255, 255, 0.05)\"\n//         ctx.fillRect(0, scanY, w, 10)\n\n//         // Bottom Text\n//         ctx.font = \"24px 'Courier New'\"\n//         ctx.fillStyle = \"rgba(255, 255, 255, 0.7)\"\n//         ctx.textAlign = \"left\"\n//         ctx.fillText(`ALT: ${(f * 123) % 99999} FT`, 60, h - 60)\n//         ctx.textAlign = \"right\"\n//         ctx.fillText(`V: ${Math.floor(299792 + Math.sin(f*0.1)*100)} km/s`, w - 60, h - 60)\n//         ctx.textAlign = \"center\"\n//     }\n\n//     const getRank = (contribs: number) => {\n//         if(contribs > 1000) return \"GALACTIC LEGEND\"\n//         if(contribs > 500) return \"FLEET ADMIRAL\"\n//         if(contribs > 100) return \"SPACE COMMANDER\"\n//         return \"STAR CADET\"\n//     }\n\n//     // Video Recording Logic\n//     const generate = async () => {\n//         setStatus(\"generating\")\n//         const canvas = canvasRef.current\n//         if (!canvas) return\n        \n//         const stream = canvas.captureStream(FPS)\n//         const recorder = new MediaRecorder(stream, { mimeType: 'video/webm;codecs=vp9', videoBitsPerSecond: 8000000 })\n        \n//         recorder.ondataavailable = e => { if (e.data.size > 0) chunksRef.current.push(e.data) }\n//         recorder.onstop = () => {\n//             const blob = new Blob(chunksRef.current, { type: 'video/webm' })\n//             setVideoUrl(URL.createObjectURL(blob))\n//             setStatus(\"done\")\n//         }\n        \n//         recorder.start()\n//         const ctx = canvas.getContext('2d')!\n        \n//         for (let i = 0; i < DURATION * FPS; i++) {\n//             drawFrame(ctx, i)\n//             setProgress((i / (DURATION * FPS)) * 100)\n//             await new Promise(r => setTimeout(r, 0)) // No delay for fast generation\n//         }\n//         recorder.stop()\n//     }\n\n//     // Fix: Updated preview function using Refs\n//     const preview = useCallback(() => {\n//         if (isPlayingRef.current) return // Prevent double click\n        \n//         setStatus(\"playing\")\n//         isPlayingRef.current = true\n//         let f = 0\n        \n//         const loop = () => {\n//             if (!canvasRef.current || !isPlayingRef.current) {\n//                 setStatus(\"idle\")\n//                 isPlayingRef.current = false\n//                 return\n//             }\n\n//             const ctx = canvasRef.current.getContext('2d')!\n//             drawFrame(ctx, f)\n//             f++\n\n//             if (f < DURATION * FPS) {\n//                 animationRef.current = requestAnimationFrame(loop)\n//             } else {\n//                 setStatus(\"idle\")\n//                 isPlayingRef.current = false\n//             }\n//         }\n//         loop()\n//     }, [DURATION, FPS, drawFrame])\n\n//     // Clean up animation on unmount\n//     useEffect(() => {\n//         return () => {\n//             if (animationRef.current) cancelAnimationFrame(animationRef.current)\n//             isPlayingRef.current = false\n//         }\n//     }, [])\n\n//     return (\n//         <div className=\"flex flex-col items-center gap-6 w-full max-w-lg mx-auto p-4\">\n//              <div className=\"relative w-full aspect-[9/16] bg-black rounded-xl overflow-hidden shadow-[0_0_30px_rgba(0,255,255,0.3)] border border-[#333]\">\n//                 <canvas ref={canvasRef} width={WIDTH} height={HEIGHT} className=\"w-full h-full object-cover\" />\n                \n//                 {status === 'generating' && (\n//                     <div className=\"absolute inset-0 bg-black/80 flex flex-col items-center justify-center\">\n//                         <Rocket className=\"w-12 h-12 text-[#ff00ff] animate-bounce mb-4\" />\n//                         <div className=\"text-[#00ffff] font-mono text-xl mb-2\">RENDERING UNIVERSE...</div>\n//                         <div className=\"w-64 h-2 bg-[#333] rounded-full overflow-hidden\">\n//                             <div className=\"h-full bg-[#00ffff]\" style={{width: `${progress}%`}} />\n//                         </div>\n//                     </div>\n//                 )}\n//             </div>\n\n//             <div className=\"flex gap-4 w-full\">\n//                 {!videoUrl ? (\n//                     <>\n//                         <Button \n//                             onClick={preview} \n//                             disabled={status !== 'idle'} // Disable when playing/generating\n//                             variant=\"outline\" \n//                             className=\"flex-1 h-12 border-[#00ffff] text-[#00ffff] hover:bg-[#00ffff]/10 disabled:opacity-50\"\n//                         >\n//                             <Play className=\"w-4 h-4 mr-2\" /> \n//                             {status === 'playing' ? \"PLAYING...\" : \"PREVIEW\"}\n//                         </Button>\n//                         <Button \n//                             onClick={generate} \n//                             disabled={status !== 'idle'} // Disable when playing/generating\n//                             className=\"flex-1 h-12 bg-gradient-to-r from-[#00ffff] to-[#ff00ff] text-black font-bold disabled:opacity-50\"\n//                         >\n//                             <Sparkles className=\"w-4 h-4 mr-2\" /> GENERATE\n//                         </Button>\n//                     </>\n//                 ) : (\n//                     <Button onClick={() => {\n//                         const a = document.createElement('a')\n//                         a.href = videoUrl\n//                         a.download = `gitfm-story-${data.user.login}.webm`\n//                         a.click()\n//                     }} className=\"w-full h-12 bg-[#00ff88] text-black font-bold text-lg animate-pulse\">\n//                         <Download className=\"w-5 h-5 mr-2\" /> DOWNLOAD VIDEO\n//                     </Button>\n//                 )}\n//             </div>\n//         </div>\n//     )\n// }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\"use client\"\n\nimport { useRef, useState, useEffect, useCallback } from \"react\"\nimport { Button } from \"@/components/ui/button\"\nimport { Download, Play, Rocket, Sparkles } from \"lucide-react\"\nimport type { GitHubData } from \"@/lib/types\"\n\ninterface VideoProps {\n    data: GitHubData\n}\n\n// --- Engine Types ---\ninterface Star {\n    x: number; y: number; z: number; size: number; color: string\n}\ninterface Particle {\n    x: number; y: number; vx: number; vy: number; life: number; color: string; size: number; type: \"spark\" | \"glitch\" | \"data-bit\" | \"coin\"\n}\ninterface FloatingText {\n    x: number; y: number; text: string; color: string; life: number; size: number; velocity: number\n}\n\nexport function StoryModeVideo({ data }: VideoProps) {\n    const canvasRef = useRef<HTMLCanvasElement>(null)\n    const [status, setStatus] = useState<\"idle\" | \"playing\" | \"generating\" | \"done\">(\"idle\")\n    const [progress, setProgress] = useState(0)\n    const [videoUrl, setVideoUrl] = useState<string | null>(null)\n    \n    // Engine Refs\n    const animationRef = useRef<number>(0)\n    const isPlayingRef = useRef(false)\n    const chunksRef = useRef<Blob[]>([])\n    \n    // Entity Systems\n    const starsRef = useRef<Star[]>([])\n    const particlesRef = useRef<Particle[]>([])\n    \n    // Constants\n    const WIDTH = 1080\n    const HEIGHT = 1920\n    const FPS = 30\n    const DURATION = 30 // 30 Seconds Voyage\n    \n    // --- Initialization ---\n    useEffect(() => {\n        // Create a massive deep starfield\n        starsRef.current = Array.from({ length: 1500 }, () => ({\n            x: (Math.random() - 0.5) * WIDTH * 4,\n            y: (Math.random() - 0.5) * HEIGHT * 4,\n            z: Math.random() * 4000,\n            size: Math.random() * 2.5,\n            color: Math.random() > 0.9 ? \"#00ffff\" : (Math.random() > 0.6 ? \"#ff00ff\" : \"#ffffff\")\n        }))\n    }, [])\n\n    // --- Particle System ---\n    const spawnParticles = useCallback((x: number, y: number, color: string, count = 10, type: Particle['type'] = \"spark\") => {\n        for(let i=0; i<count; i++) {\n            const angle = Math.random() * Math.PI * 2\n            const speed = Math.random() * (type === \"glitch\" ? 20 : 10) + 2\n            particlesRef.current.push({\n                x, y,\n                vx: Math.cos(angle) * speed * (Math.random() - 0.5),\n                vy: Math.sin(angle) * speed * (Math.random() - 0.5),\n                life: 1.0,\n                color,\n                size: Math.random() * 6 + 2,\n                type\n            })\n        }\n    }, [])\n\n    // --- Drawing Helpers ---\n    const drawHexagon = (ctx: CanvasRenderingContext2D, x: number, y: number, r: number, color: string, lineWidth = 2, rotate = 0) => {\n        ctx.save()\n        ctx.translate(x, y)\n        ctx.rotate(rotate)\n        ctx.beginPath()\n        for (let i = 0; i < 6; i++) {\n            const angle = (Math.PI / 3) * i\n            const px = r * Math.cos(angle)\n            const py = r * Math.sin(angle)\n            if (i === 0) ctx.moveTo(px, py)\n            else ctx.lineTo(px, py)\n        }\n        ctx.closePath()\n        ctx.strokeStyle = color\n        ctx.lineWidth = lineWidth\n        ctx.shadowColor = color\n        ctx.shadowBlur = 15\n        ctx.stroke()\n        ctx.fillStyle = color + \"10\" // Low opacity fill\n        ctx.fill()\n        ctx.restore()\n    }\n\n    const drawHoloCard = (ctx: CanvasRenderingContext2D, x: number, y: number, w: number, h: number, color: string, title: string, value: string, sub: string) => {\n        // Card BG\n        ctx.save()\n        ctx.fillStyle = \"rgba(10, 10, 20, 0.8)\"\n        ctx.strokeStyle = color\n        ctx.lineWidth = 3\n        ctx.beginPath()\n        ctx.moveTo(x + 20, y)\n        ctx.lineTo(x + w, y)\n        ctx.lineTo(x + w, y + h - 20)\n        ctx.lineTo(x + w - 20, y + h)\n        ctx.lineTo(x, y + h)\n        ctx.lineTo(x, y + 20)\n        ctx.closePath()\n        ctx.fill()\n        ctx.stroke()\n\n        // Scanline\n        ctx.fillStyle = color + \"10\"\n        ctx.fillRect(x, y + (Date.now() % 1000 / 1000) * h, w, 5)\n\n        // Text\n        ctx.textAlign = \"center\"\n        ctx.fillStyle = color\n        ctx.font = \"bold 32px 'Courier New'\"\n        ctx.fillText(title, x + w/2, y + 50)\n        \n        ctx.fillStyle = \"#fff\"\n        ctx.shadowColor = color\n        ctx.shadowBlur = 20\n        ctx.font = \"bold 80px 'Segoe UI'\"\n        ctx.fillText(value, x + w/2, y + 140)\n        \n        ctx.shadowBlur = 0\n        ctx.fillStyle = \"#aaa\"\n        ctx.font = \"24px 'Segoe UI'\"\n        ctx.fillText(sub, x + w/2, y + 190)\n        ctx.restore()\n    }\n\n    const drawGrid = (ctx: CanvasRenderingContext2D, width: number, height: number, time: number) => {\n        ctx.beginPath()\n        ctx.strokeStyle = \"rgba(255, 0, 255, 0.15)\"\n        ctx.lineWidth = 2\n        // Perspective grid\n        const horizon = height * 0.6\n        // Vertical lines moving\n        const offset = (time * 500) % 200\n        for(let i = -10; i <= 10; i++) {\n            const x = width/2 + i * 150\n            ctx.moveTo(x, horizon)\n            ctx.lineTo(width/2 + i * 400, height)\n        }\n        // Horizontal lines moving\n        for(let i=0; i<10; i++) {\n            const y = horizon + Math.pow(i/10, 2) * (height - horizon) + offset * (i/10)\n            if(y < height) {\n                ctx.moveTo(0, y)\n                ctx.lineTo(width, y)\n            }\n        }\n        ctx.stroke()\n    }\n\n    // --- The Main Render Loop ---\n    const drawFrame = useCallback((ctx: CanvasRenderingContext2D, frame: number) => {\n        const t = frame / (DURATION * FPS)\n        const totalScenes = 7\n        const sceneDuration = 1 / totalScenes\n        const currentScene = Math.floor(t * totalScenes)\n        const sceneTime = (t % sceneDuration) / sceneDuration // 0 to 1 for current scene\n        \n        // 1. CLEAR & BACKGROUND\n        ctx.fillStyle = \"#050510\"\n        ctx.fillRect(0, 0, WIDTH, HEIGHT)\n\n        // 2. 3D STARFIELD CAMERA (Variable Speed)\n        let warpSpeed = 5\n        if (currentScene === 4) warpSpeed = 80 // Velocity sector\n        else if (sceneTime < 0.1 || sceneTime > 0.9) warpSpeed = 40 // Transitions\n\n        const centerX = WIDTH / 2\n        const centerY = HEIGHT / 2\n\n        // Draw stars\n        starsRef.current.forEach(star => {\n            star.z -= warpSpeed\n            if (star.z <= 0) {\n                star.z = 4000\n                star.x = (Math.random() - 0.5) * WIDTH * 4\n                star.y = (Math.random() - 0.5) * HEIGHT * 4\n            }\n            \n            const perspective = 300 / star.z\n            const sx = centerX + star.x * perspective\n            const sy = centerY + star.y * perspective\n            \n            if (sx > 0 && sx < WIDTH && sy > 0 && sy < HEIGHT) {\n                const size = star.size * perspective * (warpSpeed > 20 ? 0.5 : 1)\n                \n                if (warpSpeed > 20) {\n                    // Warp lines\n                    ctx.beginPath()\n                    ctx.moveTo(sx, sy)\n                    ctx.lineTo(centerX + (sx - centerX) * 0.9, centerY + (sy - centerY) * 0.9)\n                    ctx.strokeStyle = `rgba(255, 255, 255, ${0.3 * perspective})`\n                    ctx.lineWidth = size\n                    ctx.stroke()\n                } else {\n                    ctx.fillStyle = star.color\n                    ctx.globalAlpha = Math.min(1, perspective)\n                    ctx.beginPath()\n                    ctx.arc(sx, sy, size, 0, Math.PI*2)\n                    ctx.fill()\n                    ctx.globalAlpha = 1\n                }\n            }\n        })\n\n        // 3. SCENE RENDERER\n        ctx.save()\n        \n        // --- SCENE 1: IDENTITY (0 - 14%) ---\n        if (currentScene === 0) {\n            const alpha = Math.min(1, sceneTime * 5)\n            ctx.globalAlpha = alpha\n\n            // Tech Ring\n            const rot = frame * 0.01\n            drawHexagon(ctx, WIDTH/2, 600, 200, \"#00ffff\", 5, rot)\n            drawHexagon(ctx, WIDTH/2, 600, 230, \"#ff00ff\", 2, -rot)\n\n            // Text Info\n            ctx.textAlign = \"center\"\n            ctx.fillStyle = \"#fff\"\n            ctx.shadowColor = \"#00ffff\"\n            ctx.shadowBlur = 20\n            ctx.font = \"bold 80px 'Segoe UI'\"\n            ctx.fillText(data.user.login.toUpperCase(), WIDTH/2, 950)\n            \n            ctx.shadowBlur = 0\n            ctx.font = \"30px 'Courier New'\"\n            ctx.fillStyle = \"#aaa\"\n            ctx.fillText(\"/// IDENTITY CONFIRMED ///\", WIDTH/2, 1020)\n\n            // Stats Array\n            const gridY = 1200\n            const stats = [\n                { l: \"FOLLOWERS\", v: data.user.followers, c: \"#00ff88\" },\n                { l: \"FOLLOWING\", v: data.user.following, c: \"#00ffff\" },\n                { l: \"REPOS\", v: data.user.publicRepos, c: \"#ff00ff\" }\n            ]\n\n            stats.forEach((s, i) => {\n                const x = WIDTH/2 + (i - 1) * 300\n                // Vertical Line\n                ctx.strokeStyle = \"rgba(255,255,255,0.2)\"\n                ctx.beginPath(); ctx.moveTo(x, 1100); ctx.lineTo(x, gridY + 100); ctx.stroke()\n                \n                // Value\n                ctx.fillStyle = s.c\n                ctx.font = \"bold 60px 'Segoe UI'\"\n                ctx.fillText(s.v.toString(), x, gridY)\n                // Label\n                ctx.fillStyle = \"#fff\"\n                ctx.font = \"24px 'Courier New'\"\n                ctx.fillText(s.l, x, gridY + 50)\n            })\n        }\n\n        // --- SCENE 2: CONTRIBUTION CORE (14% - 28%) ---\n        else if (currentScene === 1) {\n            // Pulsating Core\n            const pulse = 1 + Math.sin(frame * 0.1) * 0.1\n            const coreY = HEIGHT/2 - 200\n            \n            const grad = ctx.createRadialGradient(WIDTH/2, coreY, 50, WIDTH/2, coreY, 400 * pulse)\n            grad.addColorStop(0, \"#00ff88\")\n            grad.addColorStop(0.5, \"rgba(0, 255, 136, 0.2)\")\n            grad.addColorStop(1, \"transparent\")\n            ctx.fillStyle = grad\n            ctx.fillRect(0, 0, WIDTH, HEIGHT)\n\n            ctx.font = \"bold 160px 'Segoe UI'\"\n            ctx.fillStyle = \"#fff\"\n            ctx.textAlign = \"center\"\n            ctx.shadowColor = \"#00ff88\"\n            ctx.shadowBlur = 40\n            ctx.fillText(data.totalContributions.toLocaleString(), WIDTH/2, coreY + 50)\n            \n            ctx.shadowBlur = 0\n            ctx.font = \"40px 'Courier New'\"\n            ctx.fillText(\"TOTAL CONTRIBUTIONS\", WIDTH/2, coreY + 150)\n\n            // Sub Stats\n            drawHoloCard(ctx, 100, 1300, 400, 250, \"#00ff88\", \"COMMITS\", data.totalCommits.toLocaleString(), \"Code Deployed\")\n            drawHoloCard(ctx, 580, 1300, 400, 250, \"#00ff88\", \"ISSUES\", data.totalIssuesOpened.toLocaleString(), \"Problems Found\")\n        }\n\n        // --- SCENE 3: THE CODE FACTORY (28% - 42%) ---\n        else if (currentScene === 2) {\n            drawGrid(ctx, WIDTH, HEIGHT, t)\n            \n            // Factory Conveyor Metaphor\n            ctx.font = \"bold 60px 'Courier New'\"\n            ctx.fillStyle = \"#ff00ff\"\n            ctx.textAlign = \"center\"\n            ctx.fillText(\"CODE FACTORY\", WIDTH/2, 300)\n\n            // PR Stats\n            const mergedRate = data.totalPRsOpened > 0 \n                ? Math.round((data.totalPRsMerged / data.totalPRsOpened) * 100) \n                : 0\n            \n            drawHoloCard(ctx, 100, 500, 880, 300, \"#ff00ff\", \"PULL REQUESTS\", `${data.totalPRsMerged}/${data.totalPRsOpened}`, `Merge Rate: ${mergedRate}%`)\n\n            // Issue Resolution\n            const issueRate = data.totalIssuesOpened > 0\n                ? Math.round((data.totalIssuesClosed / data.totalIssuesOpened) * 100)\n                : 0\n            \n            drawHoloCard(ctx, 100, 900, 880, 300, \"#00ffff\", \"ISSUE TRACKING\", `${data.totalIssuesClosed} Closed`, `Resolution Rate: ${issueRate}%`)\n\n            // Particle sparks\n            if(frame % 3 === 0) spawnParticles(Math.random() * WIDTH, HEIGHT, \"#ff00ff\", 2, \"data-bit\")\n        }\n\n        // --- SCENE 4: THE TREASURY (42% - 57%) ---\n        else if (currentScene === 3) {\n            // Golden Shower\n            if(frame % 2 === 0) spawnParticles(Math.random() * WIDTH, -50, \"#ffd700\", 2, \"coin\")\n\n            ctx.font = \"bold 80px 'Segoe UI'\"\n            ctx.fillStyle = \"#ffd700\"\n            ctx.textAlign = \"center\"\n            ctx.shadowColor = \"#ffd700\"\n            ctx.shadowBlur = 30\n            ctx.fillText(\"THE TREASURY\", WIDTH/2, 400)\n            ctx.shadowBlur = 0\n\n            // Big Star\n            ctx.font = \"200px 'Segoe UI'\"\n            ctx.fillText(\"â­\", WIDTH/2, 700)\n            \n            // Stats\n            drawHoloCard(ctx, 80, 900, 420, 250, \"#ffd700\", \"STARS EARNED\", data.totalStarsEarned.toLocaleString(), \"Community Love\")\n            drawHoloCard(ctx, 580, 900, 420, 250, \"#ffd700\", \"STARS GIVEN\", data.totalStarsGiven.toLocaleString(), \"Appreciation\")\n            \n            drawHoloCard(ctx, 330, 1250, 420, 250, \"#ffffff\", \"FORKS\", data.totalForksEarned.toLocaleString(), \"Code Cloned\")\n        }\n\n        // --- SCENE 5: VELOCITY SECTOR (57% - 71%) ---\n        else if (currentScene === 4) {\n            // Warp Effect is handled by global star system speed up\n            \n            // Shake effect\n            const shake = (Math.random() - 0.5) * 10\n            ctx.translate(shake, shake)\n\n            ctx.font = \"bold 100px 'Segoe UI'\"\n            ctx.fillStyle = \"#ff4500\" // Orange red\n            ctx.textAlign = \"center\"\n            ctx.fillText(\"MAX VELOCITY\", WIDTH/2, 400)\n\n            // Streak\n            ctx.fillStyle = \"#fff\"\n            ctx.font = \"bold 180px 'Segoe UI'\"\n            ctx.shadowColor = \"#ff4500\"\n            ctx.shadowBlur = 50\n            ctx.fillText(data.longestStreak.toString(), WIDTH/2, 800)\n            ctx.shadowBlur = 0\n            ctx.font = \"40px 'Courier New'\"\n            ctx.fillText(\"LONGEST DAY STREAK\", WIDTH/2, 900)\n\n            // Active Day\n            ctx.fillStyle = \"#ff8800\"\n            ctx.font = \"60px 'Segoe UI'\"\n            ctx.fillText(`PEAK ACTIVITY: ${data.mostActiveDay}`, WIDTH/2, 1200)\n            \n            // Current Streak\n            ctx.font = \"40px 'Segoe UI'\"\n            ctx.fillStyle = \"#aaa\"\n            ctx.fillText(`Current Momentum: ${data.currentStreak} days`, WIDTH/2, 1300)\n        }\n\n        // --- SCENE 6: POLYGLOT (71% - 85%) ---\n        else if (currentScene === 5) {\n            // Language Constellation\n            const topLangs = data.languages.slice(0, 5)\n            const centerX = WIDTH/2\n            const centerY = HEIGHT/2\n            const radius = 350\n\n            topLangs.forEach((lang, i) => {\n                const angle = (i / topLangs.length) * Math.PI * 2 - Math.PI/2 + (frame * 0.01)\n                const x = centerX + Math.cos(angle) * radius\n                const y = centerY + Math.sin(angle) * radius\n\n                // Line to center\n                ctx.beginPath()\n                ctx.moveTo(centerX, centerY)\n                ctx.lineTo(x, y)\n                ctx.strokeStyle = \"rgba(255,255,255,0.2)\"\n                ctx.stroke()\n\n                // Planet\n                ctx.beginPath()\n                ctx.arc(x, y, 60, 0, Math.PI * 2)\n                ctx.fillStyle = lang.color || \"#fff\"\n                ctx.fill()\n                \n                // Text\n                ctx.fillStyle = \"#fff\"\n                ctx.font = \"bold 30px 'Segoe UI'\"\n                ctx.fillText(lang.name, x, y + 100)\n            })\n\n            // Center Text\n            ctx.fillStyle = \"#fff\"\n            ctx.font = \"bold 50px 'Segoe UI'\"\n            ctx.fillText(\"TECH STACK\", centerX, centerY + 10)\n            \n            if(data.mostActiveRepo) {\n                ctx.fillStyle = \"#00ffff\"\n                ctx.font = \"30px 'Courier New'\"\n                ctx.fillText(`Top Repo: ${data.mostActiveRepo}`, centerX, HEIGHT - 200)\n            }\n        }\n\n        // --- SCENE 7: SUMMARY (85% - 100%) ---\n        else {\n            // Slide in Final Card\n            const slideY = Math.max(HEIGHT/2, HEIGHT * 1.5 - (sceneTime * HEIGHT * 1.5))\n            \n            ctx.fillStyle = \"rgba(0, 0, 0, 0.8)\"\n            ctx.strokeStyle = \"#fff\"\n            ctx.lineWidth = 10\n            ctx.beginPath()\n            ctx.roundRect(100, HEIGHT/2 - 400, WIDTH - 200, 800, 40)\n            ctx.fill()\n            ctx.stroke()\n\n            ctx.textAlign = \"center\"\n            ctx.fillStyle = \"#fff\"\n            ctx.font = \"bold 80px 'Segoe UI'\"\n            ctx.fillText(\"VOYAGE COMPLETE\", WIDTH/2, HEIGHT/2 - 250)\n\n            const rank = data.totalContributions > 1000 ? \"S+\" : (data.totalContributions > 500 ? \"A\" : \"B\")\n            ctx.fillStyle = \"#ffd700\"\n            ctx.font = \"bold 200px 'Segoe UI'\"\n            ctx.fillText(`RANK: ${rank}`, WIDTH/2, HEIGHT/2 + 50)\n\n            ctx.fillStyle = \"#aaa\"\n            ctx.font = \"40px 'Courier New'\"\n            ctx.fillText(\"gitfm.com 2025\", WIDTH/2, HEIGHT/2 + 300)\n        }\n\n        ctx.restore()\n\n        // 4. PARTICLE UPDATE\n        particlesRef.current = particlesRef.current.filter(p => p.life > 0)\n        particlesRef.current.forEach(p => {\n            p.x += p.vx\n            p.y += p.vy\n            p.life -= 0.02\n            \n            ctx.globalAlpha = p.life\n            ctx.fillStyle = p.color\n            ctx.beginPath()\n            if (p.type === \"coin\") {\n                ctx.arc(p.x, p.y, p.size, 0, Math.PI*2)\n            } else {\n                ctx.rect(p.x, p.y, p.size, p.size)\n            }\n            ctx.fill()\n        })\n        ctx.globalAlpha = 1\n\n    }, [data, spawnParticles])\n\n    // Video Recording Logic\n    const generate = async () => {\n        if (status === 'generating') return\n        setStatus(\"generating\")\n        const canvas = canvasRef.current\n        if (!canvas) return\n        \n        const stream = canvas.captureStream(FPS)\n        const recorder = new MediaRecorder(stream, { mimeType: 'video/webm;codecs=vp9', videoBitsPerSecond: 12000000 })\n        \n        chunksRef.current = [] // Clear previous chunks\n        \n        recorder.ondataavailable = e => { if (e.data.size > 0) chunksRef.current.push(e.data) }\n        recorder.onstop = () => {\n            const blob = new Blob(chunksRef.current, { type: 'video/webm' })\n            setVideoUrl(URL.createObjectURL(blob))\n            setStatus(\"done\")\n        }\n        \n        recorder.start()\n        const ctx = canvas.getContext('2d')!\n        \n        // Fast render loop for recording\n        for (let i = 0; i < DURATION * FPS; i++) {\n            drawFrame(ctx, i)\n            setProgress(Math.round((i / (DURATION * FPS)) * 100))\n            // Minimal delay to allow UI updates\n            await new Promise(r => setTimeout(r, 0)) \n        }\n        recorder.stop()\n    }\n\n    const preview = useCallback(() => {\n        if (isPlayingRef.current) return\n        \n        setStatus(\"playing\")\n        isPlayingRef.current = true\n        let f = 0\n        \n        const loop = () => {\n            if (!canvasRef.current || !isPlayingRef.current) {\n                if(status === 'playing') setStatus(\"idle\") // Only reset if we were playing\n                isPlayingRef.current = false\n                return\n            }\n\n            const ctx = canvasRef.current.getContext('2d')!\n            drawFrame(ctx, f)\n            f++\n\n            if (f < DURATION * FPS) {\n                animationRef.current = requestAnimationFrame(loop)\n            } else {\n                setStatus(\"idle\")\n                isPlayingRef.current = false\n            }\n        }\n        loop()\n    }, [drawFrame, status])\n\n    // Clean up animation on unmount or reset\n    useEffect(() => {\n        return () => {\n            if (animationRef.current) cancelAnimationFrame(animationRef.current)\n            isPlayingRef.current = false\n        }\n    }, [])\n\n    return (\n        <div className=\"flex flex-col items-center gap-6 w-full max-w-lg mx-auto p-4\">\n             <div className=\"relative w-full aspect-[9/16] bg-black rounded-xl overflow-hidden shadow-[0_0_30px_rgba(0,255,255,0.3)] border border-[#333]\">\n                <canvas ref={canvasRef} width={WIDTH} height={HEIGHT} className=\"w-full h-full object-cover\" />\n                \n                {status === 'generating' && (\n                    <div className=\"absolute inset-0 bg-black/90 flex flex-col items-center justify-center z-50\">\n                        <Rocket className=\"w-12 h-12 text-[#ff00ff] animate-bounce mb-4\" />\n                        <div className=\"text-[#00ffff] font-mono text-xl mb-2\">RENDERING {progress}%</div>\n                        <div className=\"w-64 h-2 bg-[#333] rounded-full overflow-hidden\">\n                            <div className=\"h-full bg-[#00ffff]\" style={{width: `${progress}%`}} />\n                        </div>\n                        <div className=\"text-xs text-gray-500 mt-2\">Please wait, this may take a moment...</div>\n                    </div>\n                )}\n            </div>\n\n            <div className=\"flex gap-4 w-full\">\n                {!videoUrl ? (\n                    <>\n                        <Button \n                            onClick={preview} \n                            disabled={status !== 'idle'} \n                            variant=\"outline\" \n                            className=\"flex-1 h-12 border-[#00ffff] text-[#00ffff] hover:bg-[#00ffff]/10 disabled:opacity-50\"\n                        >\n                            <Play className=\"w-4 h-4 mr-2\" /> \n                            {status === 'playing' ? \"PLAYING...\" : \"PREVIEW\"}\n                        </Button>\n                        <Button \n                            onClick={generate} \n                            disabled={status !== 'idle'}\n                            className=\"flex-1 h-12 bg-gradient-to-r from-[#00ffff] to-[#ff00ff] text-black font-bold disabled:opacity-50\"\n                        >\n                            <Sparkles className=\"w-4 h-4 mr-2\" /> GENERATE VIDEO\n                        </Button>\n                    </>\n                ) : (\n                    <Button onClick={() => {\n                        const a = document.createElement('a')\n                        a.href = videoUrl\n                        a.download = `gitfm-voyage-${data.user.login}.webm`\n                        a.click()\n                    }} className=\"w-full h-12 bg-[#00ff88] text-black font-bold text-lg animate-pulse hover:scale-105 transition-transform\">\n                        <Download className=\"w-5 h-5 mr-2\" /> DOWNLOAD HD VIDEO\n                    </Button>\n                )}\n            </div>\n        </div>\n    )\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3959, "column": 0}, "map": {"version":3,"sources":["file:///home/popos/Downloads/code-synth-2025-app%20%281%29/components/results-dashboard.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState, useRef } from \"react\"\nimport type React from \"react\"\nimport * as htmlToImage from \"html-to-image\"\n\nimport { TarotCard } from \"@/components/tarot-card\"\nimport { AudioSymphony } from \"@/components/audio-symphony\"\nimport { CodeCity } from \"@/components/code-city\"\nimport { VideoGenerator } from \"@/components/video-generator\"\nimport { VideoSection } from \"@/components/video-section\"\nimport { StoryModeVideo } from \"@/components/story-mode-video\"\nimport { Button } from \"@/components/ui/button\"\nimport {\n  ArrowLeft,\n  Share2,\n  GitPullRequest,\n  GitCommit,\n  Star,\n  GitFork,\n  Flame,\n  Calendar,\n  Users,\n  BookOpen,\n  CircleDot,\n  Check,\n  X,\n  ExternalLink,\n  Download,\n  Video,\n} from \"lucide-react\"\nimport type { GitHubData } from \"@/lib/types\"\n\ninterface ResultsDashboardProps {\n  data: GitHubData\n  vibeMode: \"hype\" | \"roast\"\n  onReset: () => void\n  username?: string\n}\n\nexport function ResultsDashboard({ data, vibeMode, onReset, username }: ResultsDashboardProps) {\n  const [showShareDialog, setShowShareDialog] = useState(false)\n  const [showVideoGenerator, setShowVideoGenerator] = useState(false)\n  const [isDownloading, setIsDownloading] = useState(false)\n  const dashboardRef = useRef<HTMLDivElement>(null)\n\n  const handleShare = async () => {\n    try {\n      // Construct the shareable URL with the username path\n      const shareableUsername = username || data.user.login\n      const baseUrl = window.location.origin\n      const shareUrl = `${baseUrl}/${encodeURIComponent(shareableUsername)}?mode=${vibeMode}`\n\n      await navigator.clipboard.writeText(shareUrl)\n      setShowShareDialog(true)\n    } catch {\n      alert(\"Failed to copy link\")\n    }\n  }\n\n  const handleDownload = async () => {\n    if (!dashboardRef.current) return\n\n    setIsDownloading(true)\n    try {\n      const dataUrl = await htmlToImage.toPng(dashboardRef.current, {\n        backgroundColor: \"#0a0a0a\",\n        pixelRatio: 2,\n        skipFonts: true,\n      })\n\n      const link = document.createElement(\"a\")\n      link.download = `gitfm-${data.user.login}-${vibeMode}.png`\n      link.href = dataUrl\n      link.click()\n    } catch (error) {\n      console.error(\"Failed to download image:\", error)\n      alert(\"Failed to download image\")\n    } finally {\n      setIsDownloading(false)\n    }\n  }\n\n  return (\n    <div className=\"min-h-screen bg-background relative\">\n      {/* CRT Effect */}\n      <div className=\"crt-scanlines fixed inset-0 pointer-events-none z-50\" />\n\n      {/* Share Dialog */}\n      {showShareDialog && (\n        <div className=\"fixed inset-0 z-[60] flex items-center justify-center bg-black/80 backdrop-blur-sm\">\n          <div className=\"bg-card border border-[#00ff88]/50 rounded-2xl p-6 max-w-md mx-4 relative animate-in zoom-in-95\">\n            <button\n              onClick={() => setShowShareDialog(false)}\n              className=\"absolute top-4 right-4 text-muted-foreground hover:text-foreground\"\n            >\n              <X className=\"w-5 h-5\" />\n            </button>\n\n            {/* Success Message */}\n            <div className=\"text-center space-y-4 mb-6\">\n              <div className=\"w-16 h-16 rounded-full bg-[#00ff88]/20 flex items-center justify-center mx-auto\">\n                <Check className=\"w-8 h-8 text-[#00ff88]\" />\n              </div>\n              <h2 className=\"text-xl font-bold text-[#00ff88]\">Link Copied!</h2>\n              <p className=\"text-sm text-muted-foreground\">\n                Share your GitFM profile with friends and spread the word!\n              </p>\n            </div>\n\n            {/* Divider */}\n            <div className=\"flex items-center gap-3 my-6\">\n              <div className=\"flex-1 h-px bg-gradient-to-r from-transparent via-[#ff00ff]/50 to-transparent\" />\n              <span className=\"text-xs text-muted-foreground\">Made with â¤ï¸ by</span>\n              <div className=\"flex-1 h-px bg-gradient-to-r from-transparent via-[#ff00ff]/50 to-transparent\" />\n            </div>\n\n            {/* Creator Section */}\n            <div className=\"text-center space-y-4\">\n              <div>\n                <h3 className=\"font-bold text-foreground\">Aditya Sharma</h3>\n                <p className=\"text-xs text-muted-foreground\">Creator of GitFM</p>\n              </div>\n\n              <p className=\"text-sm text-muted-foreground\">\n                If you enjoyed GitFM, consider following me! ðŸ™Œ\n              </p>\n\n              <div className=\"flex items-center justify-center gap-3\">\n                <a\n                  href=\"https://dub.sh/adityax\"\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer\"\n                  className=\"flex items-center gap-2 px-4 py-2 rounded-lg bg-white text-black font-medium text-sm hover:bg-white/90 transition-colors\"\n                >\n                  <svg className=\"w-4 h-4\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\n                    <path d=\"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z\" />\n                  </svg>\n                  X\n                </a>\n                <a\n                  href=\"https://dub.sh/adityalinkedin\"\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer\"\n                  className=\"flex items-center gap-2 px-4 py-2 rounded-lg bg-[#0A66C2] text-white font-medium text-sm hover:bg-[#0A66C2]/90 transition-colors\"\n                >\n                  <svg className=\"w-4 h-4\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\n                    <path d=\"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z\" />\n                  </svg>\n                  LinkedIn\n                </a>\n                <a\n                  href=\"https://dub.sh/adityagithub\"\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer\"\n                  className=\"flex items-center gap-2 px-4 py-2 rounded-lg bg-[#24292e] text-white font-medium text-sm hover:bg-[#24292e]/90 transition-colors\"\n                >\n                  <svg className=\"w-4 h-4\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\n                    <path d=\"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z\" />\n                  </svg>\n                  GitHub\n                </a>\n              </div>\n            </div>\n\n            {/* Challenge Promo */}\n            <div className=\"mt-6 p-4 rounded-lg border border-[#ffd700]/30 bg-gradient-to-r from-[#ffd700]/10 to-[#ff00ff]/10\">\n              <div className=\"flex items-center gap-3\">\n                <div className=\"w-10 h-10 rounded-full bg-[#ffd700]/20 flex items-center justify-center shrink-0\">\n                  <span className=\"text-lg\">ðŸ†</span>\n                </div>\n                <div className=\"flex-1 min-w-0\">\n                  <h4 className=\"font-bold text-[#ffd700] text-sm\">Join the GitFM 2025 Challenge!</h4>\n                  <p className=\"text-xs text-muted-foreground\">Share on social media & win prizes</p>\n                </div>\n                <a\n                  href=\"/challenge\"\n                  className=\"shrink-0 px-3 py-1.5 rounded-lg bg-[#ffd700] text-black font-bold text-xs hover:bg-[#ffd700]/90 transition-colors\"\n                >\n                  Join â†’\n                </a>\n              </div>\n            </div>\n\n            <Button\n              onClick={() => setShowShareDialog(false)}\n              className=\"w-full mt-4 bg-gradient-to-r from-[#ff00ff] to-[#8800ff] hover:from-[#ff33ff] hover:to-[#aa00ff] text-white font-bold\"\n            >\n              Done\n            </Button>\n          </div>\n        </div>\n      )}\n\n      {/* Background */}\n      <div className=\"fixed inset-0 grid-bg opacity-30\" />\n      <div className=\"fixed inset-0\">\n        <div className=\"absolute top-0 left-1/4 w-[600px] h-[600px] bg-[#ff00ff]/10 rounded-full blur-3xl\" />\n        <div className=\"absolute bottom-0 right-1/4 w-[600px] h-[600px] bg-[#00ff88]/10 rounded-full blur-3xl\" />\n      </div>\n\n      {/* Header */}\n      <header className=\"relative z-10 sticky top-0 border-b border-border/50 bg-background/80 backdrop-blur-sm\">\n        <div className=\"container mx-auto px-4 py-4 flex items-center justify-between\">\n          <Button variant=\"ghost\" onClick={onReset} className=\"text-muted-foreground hover:text-foreground\">\n            <ArrowLeft className=\"w-4 h-4 mr-2\" />\n            Back\n          </Button>\n\n          <h1 className=\"text-xl font-bold neon-pink\">GitFM 2025</h1>\n\n          <div className=\"flex items-center gap-2\">\n            <Button\n              variant=\"outline\"\n              size=\"sm\"\n              onClick={() => setShowVideoGenerator(true)}\n              className=\"border-[#ffd700]/50 hover:bg-[#ffd700]/10 bg-transparent\"\n            >\n              <Video className=\"w-4 h-4 mr-2\" />\n              Video\n            </Button>\n            <Button\n              variant=\"outline\"\n              size=\"sm\"\n              onClick={handleDownload}\n              disabled={isDownloading}\n              className=\"border-[#00ff88]/50 hover:bg-[#00ff88]/10 bg-transparent\"\n            >\n              <Download className=\"w-4 h-4 mr-2\" />\n              {isDownloading ? \"...\" : \"Download\"}\n            </Button>\n            <Button\n              variant=\"outline\"\n              size=\"sm\"\n              onClick={handleShare}\n              className=\"border-[#ff00ff]/50 hover:bg-[#ff00ff]/10 bg-transparent\"\n            >\n              <Share2 className=\"w-4 h-4 mr-2\" />\n              Share\n            </Button>\n          </div>\n        </div>\n      </header>\n\n      {/* Video Generator Modal */}\n      {showVideoGenerator && (\n        <VideoGenerator\n          data={data}\n          vibeMode={vibeMode}\n          onClose={() => setShowVideoGenerator(false)}\n        />\n      )}\n\n      {/* Main Content - Wrapped for screenshot capture */}\n      <div ref={dashboardRef} className=\"bg-background\">\n        <main className=\"relative z-10 container mx-auto px-4 py-8 space-y-12\">\n          {/* User Info Header */}\n          <section className=\"text-center space-y-4\">\n            <div className=\"inline-block\">\n              <img\n                src={data.user.avatarUrl || \"/placeholder.svg\"}\n                alt={data.user.name || data.user.login}\n                className=\"w-24 h-24 rounded-full border-4 border-[#ff00ff] neon-border-pink mx-auto\"\n              />\n            </div>\n            <h2 className=\"text-3xl md:text-4xl font-bold\">\n              <span className=\"neon-pink\">{data.user.name || data.user.login}</span>\n            </h2>\n            <p className=\"text-muted-foreground\">@{data.user.login}</p>\n            {data.user.bio && <p className=\"text-sm text-muted-foreground max-w-md mx-auto\">{data.user.bio}</p>}\n            <div className=\"flex items-center justify-center gap-4 text-sm flex-wrap\">\n              <span className=\"flex items-center gap-1 text-muted-foreground\">\n                <Users className=\"w-4 h-4\" />\n                {data.user.followers} followers\n              </span>\n              <span className=\"text-muted-foreground\">â€¢</span>\n              <span className=\"flex items-center gap-1 text-muted-foreground\">\n                <BookOpen className=\"w-4 h-4\" />\n                {data.user.publicRepos} repos\n              </span>\n              <span className=\"text-muted-foreground\">â€¢</span>\n              <span className=\"text-[#ff00ff]\">{data.topLanguage || \"Unknown\"} main</span>\n            </div>\n          </section>\n\n          <section>\n            <h3 className=\"text-2xl font-bold mb-6 text-center neon-green\">2025 Stats</h3>\n            <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\n              <StatCard\n                icon={<GitCommit className=\"w-5 h-5\" />}\n                value={data.totalContributions}\n                label=\"Contributions\"\n                color=\"#00ff88\"\n              />\n              <StatCard\n                icon={<GitCommit className=\"w-5 h-5\" />}\n                value={data.totalCommits}\n                label=\"Commits\"\n                color=\"#00ff88\"\n              />\n              <StatCard\n                icon={<GitPullRequest className=\"w-5 h-5\" />}\n                value={data.totalPRsOpened}\n                label=\"PRs Opened\"\n                color=\"#ff00ff\"\n              />\n              <StatCard\n                icon={<GitPullRequest className=\"w-5 h-5\" />}\n                value={data.totalPRsMerged}\n                label=\"PRs Merged\"\n                color=\"#ff00ff\"\n              />\n              <StatCard\n                icon={<CircleDot className=\"w-5 h-5\" />}\n                value={data.totalIssuesOpened}\n                label=\"Issues Opened\"\n                color=\"#00ffff\"\n              />\n              <StatCard\n                icon={<CircleDot className=\"w-5 h-5\" />}\n                value={data.totalIssuesClosed}\n                label=\"Issues Closed\"\n                color=\"#00ffff\"\n              />\n              <StatCard\n                icon={<Star className=\"w-5 h-5\" />}\n                value={data.totalStarsEarned}\n                label=\"Stars Earned\"\n                color=\"#ffd700\"\n              />\n              <StatCard\n                icon={<Star className=\"w-5 h-5\" />}\n                value={data.totalStarsGiven}\n                label=\"Stars Given\"\n                color=\"#ffd700\"\n              />\n              <StatCard\n                icon={<GitFork className=\"w-5 h-5\" />}\n                value={data.totalForksEarned}\n                label=\"Forks Earned\"\n                color=\"#ff6b6b\"\n              />\n              <StatCard\n                icon={<Flame className=\"w-5 h-5\" />}\n                value={data.longestStreak}\n                label=\"Longest Streak\"\n                color=\"#ff4500\"\n                suffix=\" days\"\n              />\n              <StatCard\n                icon={<Flame className=\"w-5 h-5\" />}\n                value={data.currentStreak}\n                label=\"Current Streak\"\n                color=\"#ff4500\"\n                suffix=\" days\"\n              />\n              <StatCard\n                icon={<Calendar className=\"w-5 h-5\" />}\n                value={data.mostActiveDay || \"N/A\"}\n                label=\"Most Active Day\"\n                color=\"#9b59b6\"\n                isText\n              />\n            </div>\n            {data.mostActiveRepo && (\n              <p className=\"text-center mt-4 text-sm text-muted-foreground\">\n                Most active repo: <span className=\"text-[#00ff88] font-mono\">{data.mostActiveRepo}</span>\n              </p>\n            )}\n          </section>\n\n          {/* Language Breakdown */}\n          <section>\n            <h3 className=\"text-2xl font-bold mb-6 text-center neon-cyan\">Language Breakdown</h3>\n            <div className=\"max-w-2xl mx-auto space-y-3\">\n              {data.languages.slice(0, 6).map((lang, index) => {\n                const total = data.languages.reduce((sum, l) => sum + l.size, 0)\n                const percentage = Math.round((lang.size / total) * 100)\n                return (\n                  <div key={lang.name} className=\"space-y-1\">\n                    <div className=\"flex items-center justify-between text-sm\">\n                      <div className=\"flex items-center gap-2\">\n                        <div className=\"w-3 h-3 rounded-full\" style={{ backgroundColor: lang.color }} />\n                        <span className=\"text-foreground\">{lang.name}</span>\n                      </div>\n                      <span className=\"text-muted-foreground\">{percentage}%</span>\n                    </div>\n                    <div className=\"h-2 rounded-full bg-black/50 overflow-hidden\">\n                      <div\n                        className=\"h-full rounded-full transition-all duration-1000\"\n                        style={{\n                          width: `${percentage}%`,\n                          backgroundColor: lang.color,\n                          boxShadow: `0 0 10px ${lang.color}`,\n                          animationDelay: `${index * 100}ms`,\n                        }}\n                      />\n                    </div>\n                  </div>\n                )\n              })}\n            </div>\n          </section>\n\n          {/* Tarot Card Section */}\n          <section className=\"flex flex-col items-center\">\n            <h3 className=\"text-2xl font-bold mb-6 text-center neon-purple\">Your Developer Tarot</h3>\n            <TarotCard data={data} vibeMode={vibeMode} />\n          </section>\n\n          {/* Audio Section */}\n          <section>\n            <h3 className=\"text-2xl font-bold mb-6 text-center neon-cyan\">Symphony of Code</h3>\n            <AudioSymphony data={data} />\n          </section>\n\n          {/* 3D City Section */}\n          <section>\n            <h3 className=\"text-2xl font-bold mb-6 text-center neon-green\">Your Code City</h3>\n            <CodeCity data={data} />\n          </section>\n\n          <section>\n            <h3 className=\"text-2xl font-bold mb-6 text-center neon-purple\">Your Space Story</h3>\n            <StoryModeVideo data={data} />\n          </section>\n\n          {/* Video Generation Section */}\n          {/* <VideoSection data={data} vibeMode={vibeMode} /> */}\n        </main>\n\n        {/* Footer */}\n        <footer className=\"relative z-10 border-t border-border/50 py-8 text-center text-sm text-muted-foreground\">\n          <p>GitFM 2025 â€¢ Built with Next.js, Three.js, and Tone.js</p>\n        </footer>\n      </div>\n    </div>\n  )\n}\n\nfunction StatCard({\n  icon,\n  value,\n  label,\n  color,\n  suffix = \"\",\n  isText = false,\n}: {\n  icon: React.ReactNode\n  value: number | string\n  label: string\n  color: string\n  suffix?: string\n  isText?: boolean\n}) {\n  return (\n    <div\n      className=\"relative p-4 rounded-xl border bg-black/30 backdrop-blur-sm overflow-hidden group hover:scale-105 transition-transform\"\n      style={{ borderColor: `${color}40` }}\n    >\n      <div\n        className=\"absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity\"\n        style={{ background: `radial-gradient(circle at center, ${color}10, transparent)` }}\n      />\n      <div className=\"relative z-10 flex flex-col items-center text-center gap-2\">\n        <div style={{ color }}>{icon}</div>\n        <div className=\"text-2xl md:text-3xl font-bold font-mono\" style={{ color }}>\n          {isText ? value : typeof value === \"number\" ? value.toLocaleString() : value}\n          {suffix}\n        </div>\n        <div className=\"text-xs text-muted-foreground\">{label}</div>\n      </div>\n    </div>\n  )\n}\n\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 5195, "column": 0}, "map": {"version":3,"sources":["file:///home/popos/Downloads/code-synth-2025-app%20%281%29/app/%5Busername%5D/page.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState, useEffect, use } from \"react\"\nimport { useSearchParams } from \"next/navigation\"\nimport { LoadingScreen } from \"@/components/loading-screen\"\nimport { ResultsDashboard } from \"@/components/results-dashboard\"\nimport type { GitHubData } from \"@/lib/types\"\n\ninterface UserPageProps {\n    params: Promise<{ username: string }>\n}\n\nexport default function UserPage({ params }: UserPageProps) {\n    const { username } = use(params)\n    const searchParams = useSearchParams()\n\n    const [state, setState] = useState<\"loading\" | \"results\" | \"error\">(\"loading\")\n    const [githubData, setGithubData] = useState<GitHubData | null>(null)\n    const [error, setError] = useState<string | null>(null)\n\n    // Get vibe mode from URL params, default to \"hype\"\n    const vibeMode = (searchParams.get(\"mode\") as \"hype\" | \"roast\") || \"hype\"\n    const useOAuth = searchParams.get(\"oauth\") === \"true\"\n\n    useEffect(() => {\n        const fetchData = async () => {\n            try {\n                setState(\"loading\")\n                setError(null)\n\n                // Start both the API call and a minimum delay timer\n                const minimumLoadingTime = new Promise(resolve => setTimeout(resolve, 18000))\n\n                const fetchPromise = fetch(\"/api/github\", {\n                    method: \"POST\",\n                    headers: { \"Content-Type\": \"application/json\" },\n                    body: JSON.stringify({ username: decodeURIComponent(username), useOAuth }),\n                })\n\n                // Wait for both the API response AND the minimum delay\n                const [response] = await Promise.all([fetchPromise, minimumLoadingTime])\n\n                const data = await response.json()\n\n                if (!response.ok) {\n                    throw new Error(data.error || \"Failed to fetch GitHub data\")\n                }\n\n                setGithubData(data)\n                setState(\"results\")\n            } catch (err) {\n                setError(err instanceof Error ? err.message : \"An error occurred\")\n                setState(\"error\")\n            }\n        }\n\n        fetchData()\n    }, [username, useOAuth])\n\n    const handleReset = () => {\n        window.location.href = \"/\"\n    }\n\n    if (state === \"loading\") {\n        return <LoadingScreen />\n    }\n\n    if (state === \"error\") {\n        return (\n            <div className=\"min-h-screen flex flex-col items-center justify-center bg-background relative\">\n                {/* CRT Effect */}\n                <div className=\"crt-scanlines fixed inset-0 pointer-events-none z-50\" />\n\n                {/* Background */}\n                <div className=\"fixed inset-0 grid-bg opacity-30\" />\n                <div className=\"fixed inset-0\">\n                    <div className=\"absolute top-0 left-1/4 w-[600px] h-[600px] bg-[#ff00ff]/10 rounded-full blur-3xl\" />\n                    <div className=\"absolute bottom-0 right-1/4 w-[600px] h-[600px] bg-[#00ff88]/10 rounded-full blur-3xl\" />\n                </div>\n\n                <div className=\"relative z-10 text-center space-y-6 px-4\">\n                    <div className=\"w-24 h-24 mx-auto rounded-full bg-[#ff0000]/20 flex items-center justify-center border border-[#ff0000]/50\">\n                        <span className=\"text-4xl\">âš ï¸</span>\n                    </div>\n\n                    <h1 className=\"text-2xl md:text-3xl font-bold text-[#ff0000]\">\n                        Oops! Something went wrong\n                    </h1>\n\n                    <p className=\"text-muted-foreground max-w-md mx-auto\">\n                        {error}\n                    </p>\n\n                    <button\n                        onClick={handleReset}\n                        className=\"px-6 py-3 rounded-lg font-bold bg-gradient-to-r from-[#ff00ff] to-[#8800ff] hover:from-[#ff33ff] hover:to-[#aa00ff] text-white transition-all\"\n                    >\n                        Back to Home\n                    </button>\n                </div>\n            </div>\n        )\n    }\n\n    if (state === \"results\" && githubData) {\n        return <ResultsDashboard data={githubData} vibeMode={vibeMode} onReset={handleReset} username={username} />\n    }\n\n    return null\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;;;AALA;;;;;AAYe,SAAS,SAAS,EAAE,MAAM,EAAiB;;IACtD,MAAM,EAAE,QAAQ,EAAE,GAAG,IAAA,oKAAG,EAAC;IACzB,MAAM,eAAe,IAAA,wJAAe;IAEpC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAkC;IACpE,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,yKAAQ,EAAoB;IAChE,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAgB;IAElD,mDAAmD;IACnD,MAAM,WAAW,AAAC,aAAa,GAAG,CAAC,WAAgC;IACnE,MAAM,WAAW,aAAa,GAAG,CAAC,aAAa;IAE/C,IAAA,0KAAS;8BAAC;YACN,MAAM;gDAAY;oBACd,IAAI;wBACA,SAAS;wBACT,SAAS;wBAET,oDAAoD;wBACpD,MAAM,qBAAqB,IAAI;4DAAQ,CAAA,UAAW,WAAW,SAAS;;wBAEtE,MAAM,eAAe,MAAM,eAAe;4BACtC,QAAQ;4BACR,SAAS;gCAAE,gBAAgB;4BAAmB;4BAC9C,MAAM,KAAK,SAAS,CAAC;gCAAE,UAAU,mBAAmB;gCAAW;4BAAS;wBAC5E;wBAEA,uDAAuD;wBACvD,MAAM,CAAC,SAAS,GAAG,MAAM,QAAQ,GAAG,CAAC;4BAAC;4BAAc;yBAAmB;wBAEvE,MAAM,OAAO,MAAM,SAAS,IAAI;wBAEhC,IAAI,CAAC,SAAS,EAAE,EAAE;4BACd,MAAM,IAAI,MAAM,KAAK,KAAK,IAAI;wBAClC;wBAEA,cAAc;wBACd,SAAS;oBACb,EAAE,OAAO,KAAK;wBACV,SAAS,eAAe,QAAQ,IAAI,OAAO,GAAG;wBAC9C,SAAS;oBACb;gBACJ;;YAEA;QACJ;6BAAG;QAAC;QAAU;KAAS;IAEvB,MAAM,cAAc;QAChB,OAAO,QAAQ,CAAC,IAAI,GAAG;IAC3B;IAEA,IAAI,UAAU,WAAW;QACrB,qBAAO,6LAAC,oJAAa;;;;;IACzB;IAEA,IAAI,UAAU,SAAS;QACnB,qBACI,6LAAC;YAAI,WAAU;;8BAEX,6LAAC;oBAAI,WAAU;;;;;;8BAGf,6LAAC;oBAAI,WAAU;;;;;;8BACf,6LAAC;oBAAI,WAAU;;sCACX,6LAAC;4BAAI,WAAU;;;;;;sCACf,6LAAC;4BAAI,WAAU;;;;;;;;;;;;8BAGnB,6LAAC;oBAAI,WAAU;;sCACX,6LAAC;4BAAI,WAAU;sCACX,cAAA,6LAAC;gCAAK,WAAU;0CAAW;;;;;;;;;;;sCAG/B,6LAAC;4BAAG,WAAU;sCAAgD;;;;;;sCAI9D,6LAAC;4BAAE,WAAU;sCACR;;;;;;sCAGL,6LAAC;4BACG,SAAS;4BACT,WAAU;sCACb;;;;;;;;;;;;;;;;;;IAMjB;IAEA,IAAI,UAAU,aAAa,YAAY;QACnC,qBAAO,6LAAC,0JAAgB;YAAC,MAAM;YAAY,UAAU;YAAU,SAAS;YAAa,UAAU;;;;;;IACnG;IAEA,OAAO;AACX;GAjGwB;;QAEC,wJAAe;;;KAFhB"}}]
}